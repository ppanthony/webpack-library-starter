!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("webpack-library-starter",[],t):"object"==typeof exports?exports["webpack-library-starter"]=t():e["webpack-library-starter"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n;(new(((n=r(1))&&n.__esModule?n:{default:n}).default)).init()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"init",value:function(){(new o.default).onReady()}}])&&a(t.prototype,r),n&&a(t,n),e}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(3))&&n.__esModule?n:{default:n};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(4),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"buildUX",value:function(){var e={div:{backgroundColor:"yellow",color:"red",height:function(){return window.innerHeight/2+"px"}}},t=(0,o.default)(e);window.onresize=function(){return t.update()}}},{key:"onReady",value:function(){var e=this;i(function(){e.buildUX()})}}])&&a(t.prototype,r),n&&a(t,n),e}();t.default=u,e.exports=t.default},function(e,t,r){e.exports=function(){"use strict";function e(e,t){return{}.hasOwnProperty.call(e,t)}var t=Object.assign||function(t,r){var n,o,a,i=Object(t);for(n=1;n<arguments.length;n++)for(a in o=Object(arguments[n]))e(o,a)&&(i[a]=o[a]);return i};function r(e){return e.charAt(0).toUpperCase()+e.substr(1)}var n,o=(n=0,function(e){return n++,"_"+(e||"")+Math.floor(Math.random()*Math.pow(2,32)).toString(36)+n+"_"});function a(e){return"string"==typeof e}function i(t,r,n){t[r]=t[r]||{};for(var o=arguments,a=2;a<o.length;a++)for(var i in n=o[a])e(n,i)&&(t[r][i]=n[i]);return t[r]}function u(e,t,r,n,o){var a=e[t];a=e[t]=t in e?Array.isArray(a)?a:[a]:[],o&&a.indexOf(r)>-1||(n?a.unshift(r):a.push(r))}function f(e,t,r,n,o){for(var a,i,f=e,c=[];f;){if(t(f)){if(n)for(a=0;a<c.length;a++)u(f,n,c[a],!1,!0);c[0]&&o&&(c[0][o]=f),c.unshift(f)}f=f.parent}for(a=0;a<c.length;a++)i=c[a],c[a]=r?i[r]:i;return c}function c(e,t,r){if(e.indexOf(t)<0)return[e];for(var n,o=0,a=0,i="",u=0,f=[];n=e.charAt(o);o++)i?n==i&&"\\"!=e.charAt(o-1)&&(i=""):('"'!=n&&"'"!=n||(i=n),r||("("!=n&&"["!=n||a++,")"!=n&&"]"!=n||a--),a||n!=t||(f.push(e.substring(u,o)),u=o+1));return f.concat(e.substring(u))}var l="$id",s="$order",d="$test",p="group",v=Object.keys,h={}.toString,m=h.call([]),y=h.call({});function b(e){return h.call(e)==y||h.call(e)==m}function g(e){return"function"==typeof e}var w=/^@(media|document|supports|page|[\w-]*keyframes)/i,x=/^\s*@/i;function j(t,r,n,o){if(o&&(r.nodes=[],r.ref={},n&&(r.diff={})),(n=n||{}).obj=t,h.call(t)==m){var a=[];n.at=x.exec(n.key);for(var y=0;y<t.length;y++){var T=n[y],k=j(t[y],r,n[y]||{parent:n,src:t,parentNode:a,index:y});r.diff&&T!=k&&u(r.diff,k?"added":"removed",k||T),a.push(k)}return a}t[l]&&(r.ref[t[l]]=n);var O=n.prevVal=n.lastVal;if(d in t){var _=g(t[d])?t[d](!n.disabled,n,r):t[d];if(!_)return;n.test=_}var A=n.children=n.children||{};n.lastRaw=n.rawVal||{},n.lastVal={},n.rawVal={},n.prop={},n.diff={};var C=0|t[s],M=[],S=function(e,t,n){var o=t in A,a=i(A,t,n);a.selPart=a.selPart||c(t,",");var f=j(e,r,a);f&&(A[t]=f),O&&(o?!f&&u(r.diff,"removed",A[t]):f&&u(r.diff,"added",f)),f||delete n.parent.children[t]};for(var $ in"selText"in n||function(e,t){var r=t.config,n=f(e,function(e){return e.key}).pop();if(e.parentRule=f(e.parent,function(e){return e.type==p}).pop()||null,n){var o,a=n.key,i=a.match(w);i?(e.type=p,e.at=i.pop(),(o="media"==e.at)&&(e.selPart=c(a.replace(w,""),",")),e.groupText=o?"@"+e.at+R(f(e,function(e){return e.type==p},"selPart","selChild","selParent"),""," and"):a,e.selText=f(e,function(e){return e.selText&&!e.at},"selText").pop()||""):x.test(a)?(e.type="at",e.selText=a):e.selText=""+R(f(n,function(e){return e.selPart&&!e.at},"selPart","selChild","selParent"),""," ",!0),e.selText=P(r,"selector",e.selText,e,t),e.selText&&(e.selTextPart=c(e.selText,",")),e!==n&&(e.ruleNode=n)}}(n,r),t)if(e(t,$))if(!b(t[$])||h.call(t[$])==m&&!b(t[$][0])){if("@"==$[0]){S([].concat(t[$]).reduce(function(e,t){return e[t]=";",e},{}),$,{parent:n,src:t,key:$,inline:!0});continue}var N=function(e){e!=d&&E(n,t,e,r)};C?M.push([N,$]):N($)}else S(t[$],$,{parent:n,src:t,key:$});if(O){for($ in A)$ in t||(u(r.diff,"removed",A[$]),delete A[$]);var V=function(){var e=v(n.lastVal),t=v(O).filter(function(t){return e.indexOf(t)<0});t.length&&(n.diff.removed=t),v(n.diff).length&&u(r.diff,"changed",n)};C?M.push([V,null]):V()}return C&&u(r,"_order",{order:C,func:M}),r.nodes.push(n),n}function E(t,r,n,o,a){var i,f=t.prevVal,c=t.lastVal,l=(i=n,!isNaN(parseFloat(i))&&isFinite(i)?a:n),s=t.lastRaw[l],d=f&&f[l],p={node:t,result:o};s&&(p.raw=s[0]),[].concat(r[n]).forEach(function(r){p.cooked=d,p.raw=s=g(r)?r(p):r;var n=P(o.config,"value",s,l,t,o,a);if(b(n))for(var i in n)e(n,i)&&E(t,n,i,o,l);else u(t.rawVal,l,s,!0),function(e){return"string"==typeof e&&e||"number"==typeof e&&isFinite(e)}(n)&&(u(t.prop,l,n,!0),d=c[l]=n)}),f&&(l in f?f[l]!=c[l]&&u(t.diff,"changed",l):u(t.diff,"added",l))}function R(e,t,r,n){return e.length?e[0].reduce(function(o,a){var i,u=t?t+r:t;return n?(i=c(a,"&"),u=i.length>1?i.join(t):u+a):u+=a,o.concat(R(e.slice(1),u,r,n))},[]):t}function P(e,t){var r=[].slice.call(arguments,2),n=e.plugins;return[].concat(n).reduce(function(e,n){return n[t]?n[t].apply(null,[e].concat(r)):e},r.shift())}function T(t){return t=function(t,r){for(var n in t=t||{},r)!e(r,n)||n in t||(t[n]=r[n]);return t}(t,{plugins:[],intros:[]}),function(e,r){var n=function(e,r){return arguments.length>1&&(o.state=r||{}),e&&(o.obj=g(e)?e():e),o.root=j(i({},"",o.intro,o.obj),o,o.root,!0),null!=(n=o)._order&&(n._order.sort(function(e,t){return e.order-t.order}).forEach(function(e){e.func.forEach(function(e){e[0](e[1])})}),n._order=[]),o=P(t,"post",o),g(t.onUpdate)&&t.onUpdate(o),o;var n},o={intro:{},update:n,config:t};return[].concat(t.intros).forEach(function(e){i(o,"intro",g(e)?e(o):e)}),n(e,r||t.state),o}}var k=function(e,t,r,n){var o=/@import/i.test(n.selText),a=e.cssRules||e.rules,i=0,u=[],f=n.inline?r.map(function(e){return[n.selText," ",e]}):[[t,"{",r.join(""),"}"]];return f.forEach(function(r){if(e.cssRules)try{i=o?0:a.length,e.appendRule?e.appendRule(r.join("")):e.insertRule(r.join(""),i),u.push(a[i])}catch(e){}else e.addRule&&[].concat(t).forEach(function(t){try{o?(i=e.addImport(r[2]),u.push(e.imports[i])):/^\s*@/.test(t)||(e.addRule(t,r[2],a.length),u.push(a[a.length-1]))}catch(e){}})}),u};function O(e){var t=e.prop;return Object.keys(t).map(function(r){if("$"==r[0])return"";for(var n,o="",a=t[r].length;a--;)n=t[r][a],o+=e.inline?r:S(r,!0)+":"+n+";";return o})}var _=["Webkit","Moz","ms","O"],A=new RegExp("^(?:"+_.join("|")+")[A-Z]"),C=document.createElement("div").style,M={float:function(e){for(var t=e.length;t--;)if(e[t]in C)return e[t]}(["styleFloat","cssFloat","float"])};function S(e,t){if("$"==e[0])return"";var n=M[e]||(M[e]=function(e){if(!(e in C||"-"==e[0]))for(var t,n=r(e),o=_.length;o--;)if((t=_[o]+n)in C)return t}(e)||e);return t?(A.test(n)?r(n):"float"==e&&e||n).replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}):n}function $(e){(e=e||{}).vendors&&(_=e.vendors);var r=e.id||"cssobj"+o(),n=e.frame,i=n?n.contentDocument||n.contentWindow.document:document,u=function(e,t,r){var n=e.getElementById(t),o=e.getElementsByTagName("head")[0];if(n){if(r.append)return n;n.parentNode&&n.parentNode.removeChild(n)}if(n=e.createElement("style"),o.appendChild(n),n.setAttribute("id",t),r.attrs)for(var a in r.attrs)n.setAttribute(a,r.attrs[a]);return n}(i,r,e),f=u.sheet||u.styleSheet,c=/page/i,l=function(e){return!!e&&(c.test(e.at)||e.parentRule&&c.test(e.parentRule.at))},s=function(e){return!e.parentRule||null!==e.parentRule.omGroup},d=function(e,t,r){return e.deleteRule?e.deleteRule(t.keyText||r):e.removeRule(r)},p=function(e){if(e){var t=e.parentRule||f,r=t.cssRules||t.rules;[].some.call(r,function(r,n){if(r===e)return d(t,e,n),!0})}};function v(e){var t=m.indexOf(e);t>-1&&(e.mediaEnabled=!1,b(e),m.splice(t,1)),[e.omGroup].concat(e.omRule).forEach(p)}var h=function(e,t,r){if(r){var n=function(e){var t="omGroup"in e?e:e.parentRule;return t&&t.omGroup||f}(e),o=e.parentRule;if(s(e))return e.omRule=k(n,t,r,e);if(o){if(o.mediaEnabled)return[].concat(e.omRule).forEach(p),e.omRule=k(n,t,r,e);e.omRule&&(e.omRule.forEach(p),delete e.omRule)}}},m=[],y=function(){m.forEach(function(e){e.mediaEnabled=e.mediaTest(i),b(e)})};window.attachEvent?window.attachEvent("onresize",y):window.addEventListener&&window.addEventListener("resize",y,!0);var b=function(t,r){if(t){if(t.constructor===Array)return t.map(function(e){b(e,r)});if((!t.key||"$"!=t.key[0])&&t.prop){if("media"==t.at&&t.selParent&&t.selParent.postArr)return t.selParent.postArr.push(t);t.postArr=[];var n=t.children,o="group"==t.type;if(l(t)&&(r=r||[]),o&&!l(t)){var a=t.obj.$groupTest,u="media"==t.at&&e.media;if(a||u){t.omGroup=null;var c=a||u&&function(r){var n=e.media;return!n||t.selPart.some(function(e){return new RegExp(n,"i").test(e.trim())})}||function(){return!0};try{var d=c(i);t.mediaTest=c,t.mediaEnabled=d,m.push(t)}catch(e){}}else[""].concat(_).some(function(e){return t.omGroup=k(f,"@"+(e?"-"+e.toLowerCase()+"-":e)+t.groupText.slice(1),[],t).pop()||null})}var p=t.selTextPart,v=O(t);for(var y in v.join("")&&(l(t)||h(t,p,v),r&&r.push(p?p+" {"+v.join("")+"}":v)),n)""===y?t.postArr.push(n[y]):b(n[y],r);o&&l(t)&&s(t)&&(h(t,t.groupText,r),r=null);var g=t.postArr;delete t.postArr,g.map(function(e){b(e,r)})}}},g=e.media;return{post:function(r){var n=g!=e.media;if(g=e.media,y(),r.set=function(e,n){var o=Array.isArray(e)?e:[e],i=r.obj;a(o[0])&&"$"===o[0][0]&&(i=r.ref[o.shift().slice(1)].obj);var u=function(e,t){var r,n,o,a=Array.isArray(t)?t:String(t).split("."),i=1,u={ok:i,path:a,obj:e};for(r=0;r<a.length;r++){if(n=a[r],!e.hasOwnProperty(n)||null==(o=e[n])||"function"!=typeof o&&"object"!=typeof o){i=0;break}e=e[n]}return u.ok=i,u.path=a.slice(0,r),u.obj=e,u}(i,o);u.ok&&t(u.obj,n),r.update()},r.cssdom=u,!r.diff||n)n&&(m=[],function(e){for(var t=e.cssRules||e.rules,r=t.length;r--;)d(e,t[r],r)}(f)),b(r.root);else{var o=r.diff;o.added&&o.added.forEach(function(e){b(e)}),o.removed&&o.removed.forEach(function(e){e.selChild&&e.selChild.forEach(v),v(e)}),o.changed&&o.changed.forEach(function(e){var t=e.omRule,r=e.diff;t||(t=h(e,e.selTextPart,O(e))),[].concat(r.added,r.changed).forEach(function(r){r&&t&&t.forEach(function(t){try{n=t.style,o=r,a=e.prop[r][0],u=/^(.*)!(important)\s*$/i.exec(a),f=S(o),c=S(o,!0),u?(i=u[1],u=u[2],n.setProperty?n.setProperty(c,i,u):(n[c.toUpperCase()]=a,n.cssText=n.cssText)):n[f]=a}catch(e){}var n,o,a,i,u,f,c})}),r.removed&&r.removed.forEach(function(e){var r=S(e,!0);r&&t&&t.forEach(function(e){try{e.style.removeProperty?e.style.removeProperty(r):e.style.removeAttribute(r)}catch(e){}})})})}return r}}}var N=/[ \~\\@$%^&\*\(\)\+\=,\/';\:"?><[\]\\{}|`]/;function V(e,t,r){var n,i,u,f,l,s,d,p=(t=t||{}).local;return t.local=p?p&&"object"==typeof p?p:{}:{space:""},t.plugins=[].concat(t.plugins||[],(n=t.local,i=(n=n||{}).space="string"!=typeof n.space?"function"==typeof n.random?n.random():o():n.space,u=n.localNames=n.localNames||{},f=function(e){return"!"==e[0]?e.substr(1):e in u?u[e]:e+i},l=function(e){if(!a(e))return e;for(var t,r,n=c(e,".",!0),o=n[0],i=1,u=n.length;i<u;i++)(t=n[i])?(r=t.search(N),o+="."+(r<0?f(t):f(t.substr(0,r))+t.substr(r))):o+=".";return o},s=function(e){return a(e)?l(e.replace(/\s+\.?/g,".").replace(/^([^:\s.])/i,".$1")).replace(/\./g," ").trim():e},{selector:function(e,t,r){return t.at?e:(r.mapSel||d(r),l(e))},post:d=function(e){return e.space=i,e.localNames=u,e.mapSel=l,e.mapClass=s,e}}),$(t.cssom)),T(t)(e,r)}return V.version="1.3.6",V}()},function(e,t,r){"use strict";e.exports=function(e){if("undefined"==typeof document)throw new Error("document-ready only runs in the browser");var t=document.readyState;if("complete"===t||"interactive"===t)return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLWxpYnJhcnktc3RhcnRlci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vd2VicGFjay1saWJyYXJ5LXN0YXJ0ZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2VicGFjay1saWJyYXJ5LXN0YXJ0ZXIvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1saWJyYXJ5LXN0YXJ0ZXIvLi9zcmMvZG9tY2hlY2tlci5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWxpYnJhcnktc3RhcnRlci8uL3NyYy91eC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWxpYnJhcnktc3RhcnRlci8uL25vZGVfbW9kdWxlcy9jc3NvYmovZGlzdC9jc3NvYmoudW1kLmpzIiwid2VicGFjazovL3dlYnBhY2stbGlicmFyeS1zdGFydGVyLy4vbm9kZV9tb2R1bGVzL2RvY3VtZW50LXJlYWR5L2luZGV4LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImRlZmF1bHQiLCJpbml0IiwiX3V4IiwiRG9tQ2hlY2tlciIsIl9jbGFzc0NhbGxDaGVjayIsIm9uUmVhZHkiLCJfY3Nzb2JqIiwicmVhZHkiLCJyZXF1aXJlIiwiVVgiLCJ3aWRnZXRTdHlsZXMiLCJkaXYiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwicmVzdWx0Iiwib25yZXNpemUiLCJ1cGRhdGUiLCJ0aGF0IiwiYnVpbGRVWCIsIm93biIsImsiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJmcm9tIiwidG8iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjYXBpdGFsaXplIiwic3RyIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHIiLCJjb3VudCIsInJhbmRvbSIsInByZWZpeCIsIk1hdGgiLCJmbG9vciIsInBvdyIsInRvU3RyaW5nIiwiaXNTdHJpbmciLCJleHRlbmRPYmoiLCJvYmoiLCJhcmdzIiwiYXJyYXlLViIsInYiLCJyZXZlcnNlIiwidW5pcXVlIiwiQXJyYXkiLCJpc0FycmF5IiwiaW5kZXhPZiIsInVuc2hpZnQiLCJwdXNoIiwiZ2V0UGFyZW50cyIsIm5vZGUiLCJ0ZXN0IiwiY2hpbGRyZW5LZXkiLCJwYXJlbnRLZXkiLCJwYXRoIiwicGFyZW50Iiwic3BsaXRTZWxlY3RvciIsInNlbCIsInNwbGl0dGVyIiwiaW5CcmFja2V0IiwiaW5zdHIiLCJwcmV2Iiwic3Vic3RyaW5nIiwiY29uY2F0IiwiS0VZX0lEIiwiS0VZX09SREVSIiwiS0VZX1RFU1QiLCJUWVBFX0dST1VQIiwia2V5cyIsInR5cGUiLCJBUlJBWSIsIk9CSkVDVCIsImlzSXRlcmFibGUiLCJpc0Z1bmN0aW9uIiwicmVHcm91cFJ1bGUiLCJyZUF0UnVsZSIsInBhcnNlT2JqIiwibm9kZXMiLCJyZWYiLCJkaWZmIiwiYXQiLCJleGVjIiwic3JjIiwicGFyZW50Tm9kZSIsImluZGV4IiwicHJldlZhbCIsImxhc3RWYWwiLCJkaXNhYmxlZCIsImNoaWxkcmVuIiwibGFzdFJhdyIsInJhd1ZhbCIsInByb3AiLCJvcmRlciIsImZ1bmNBcnIiLCJwcm9jZXNzT2JqIiwibm9kZU9iaiIsImhhdmVPbGRDaGlsZCIsIm5ld05vZGUiLCJzZWxQYXJ0Iiwib3B0IiwiY29uZmlnIiwicnVsZU5vZGUiLCJwb3AiLCJwYXJlbnRSdWxlIiwiaXNNZWRpYSIsImdyb3VwUnVsZSIsIm1hdGNoIiwicmVwbGFjZSIsImdyb3VwVGV4dCIsImNvbWJpbmVQYXRoIiwic2VsVGV4dCIsImFwcGx5UGx1Z2lucyIsInNlbFRleHRQYXJ0IiwiZ2V0U2VsIiwicmVkdWNlIiwiY3VyIiwiaW5saW5lIiwiX2siLCJwYXJzZVByb3AiLCJkaWZmUHJvcCIsIm5ld0tleXMiLCJyZW1vdmVkIiwiZmlsdGVyIiwieCIsImZ1bmMiLCJwcm9wS2V5IiwicHJvcE5hbWUiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsInJhdyIsImFyZ09iaiIsImZvckVhY2giLCJjb29rZWQiLCJ2YWwiLCJpc1ZhbGlkQ1NTVmFsdWUiLCJhcnJheSIsInBhcmVudFNlbCIsInNlcGVyYXRvciIsInJlcGxhY2VBbXBlcnNhbmQiLCJwYXJ0Iiwiam9pbiIsInNsaWNlIiwicGx1Z2luIiwicGx1Z2lucyIsInByZSIsImFwcGx5Iiwic2hpZnQiLCJjc3NvYmoiLCJvcHRpb25zIiwiZGVmYXVsdE9wdGlvbiIsImRlZmF1bHRzIiwiaW50cm9zIiwiaW5pdE9iaiIsImluaXRTdGF0ZSIsInVwZGF0ZXIiLCJzdGF0ZSIsImludHJvIiwiX29yZGVyIiwic29ydCIsImEiLCJiIiwiZiIsIm9uVXBkYXRlIiwiYWRkQ1NTUnVsZSIsInNlbGVjdG9yIiwiYm9keSIsImlzSW1wb3J0UnVsZSIsInJ1bGVzIiwiY3NzUnVsZXMiLCJvbUFyciIsIm1hcCIsInRleHQiLCJhcHBlbmRSdWxlIiwiaW5zZXJ0UnVsZSIsImUiLCJhZGRSdWxlIiwiYWRkSW1wb3J0IiwiaW1wb3J0cyIsImdldEJvZHlDc3MiLCJyZXQiLCJwcmVmaXhQcm9wIiwiY3NzUHJlZml4ZXMiLCJjc3NQcmVmaXhlc1JlZyIsIlJlZ0V4cCIsImVtcHR5U3R5bGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImNzc1Byb3BzIiwiZmxvYXQiLCJsaXN0IiwidGVzdFByb3AiLCJpbkNTUyIsInJldE5hbWUiLCJwcmVOYW1lIiwiY2FwTmFtZSIsInZlbmRvclByb3BOYW1lIiwidG9Mb3dlckNhc2UiLCJjc3NvYmpfcGx1Z2luX3Bvc3RfY3Nzb20iLCJvcHRpb24iLCJ2ZW5kb3JzIiwiaWQiLCJmcmFtZSIsInJvb3REb2MiLCJjb250ZW50RG9jdW1lbnQiLCJjb250ZW50V2luZG93IiwiZG9tIiwiZWwiLCJnZXRFbGVtZW50QnlJZCIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZCIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJhdHRycyIsImNyZWF0ZURPTSIsInNoZWV0Iiwic3R5bGVTaGVldCIsInJlV2hvbGVSdWxlIiwiYXRvbUdyb3VwUnVsZSIsInZhbGlkUGFyZW50Iiwib21Hcm91cCIsInJlbW92ZVJ1bGUiLCJydWxlIiwiZGVsZXRlUnVsZSIsImtleVRleHQiLCJyZW1vdmVPbmVSdWxlIiwic29tZSIsInJlbW92ZU5vZGUiLCJncm91cElkeCIsIm1lZGlhU3RvcmUiLCJtZWRpYUVuYWJsZWQiLCJ3YWxrIiwic3BsaWNlIiwib21SdWxlIiwiYWRkTm9ybWFsUnVsZSIsImNzc1RleHQiLCJnZXRQYXJlbnQiLCJjaGVja01lZGlhTGlzdCIsIm1lZGlhVGVzdCIsImF0dGFjaEV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0b3JlIiwiY29uc3RydWN0b3IiLCJzZWxQYXJlbnQiLCJwb3N0QXJyIiwiaXNHcm91cCIsIiRncm91cFRlc3QiLCJwcmVzZXRNZWRpYSIsIm1lZGlhIiwiZG9jIiwidHJpbSIsInByZXZNZWRpYSIsInBvc3QiLCJtZWRpYUNoYW5nZWQiLCJzZXQiLCJjc3NQYXRoIiwibmV3T2JqIiwic3JjT2JqIiwiX2tleSIsIlN0cmluZyIsInNwbGl0Iiwib2siLCJvYmpHZXRPYmoiLCJjc3Nkb20iLCJjbGVhclJvb3QiLCJhZGRlZCIsInNlbENoaWxkIiwiY2hhbmdlZCIsIm9tIiwic3R5bGVPYmoiLCJpbXBvcnRhbnQiLCJwcm9wQ2FtZWwiLCJwcm9wRGFzaCIsInNldFByb3BlcnR5IiwicHJlZml4ViIsInJlbW92ZVByb3BlcnR5IiwicmVtb3ZlQXR0cmlidXRlIiwiY2xhc3NOYW1lUmUiLCJjc3NvYmokMSIsInNwYWNlIiwibG9jYWxOYW1lcyIsImxvY2FsaXplIiwicGFyc2VTZWwiLCJtYXBDbGFzcyIsInNldFJlc3VsdCIsImxvY2FsIiwicG9zIiwibGVuIiwic2VhcmNoIiwibWFwU2VsIiwiY3Nzb20iLCJ2ZXJzaW9uIiwiY2FsbGJhY2siLCJFcnJvciIsInJlYWR5U3RhdGUiLCJzZXRUaW1lb3V0Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxPQUFBLDZCQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLDJCQUFBRCxJQUVBRCxFQUFBLDJCQUFBQyxJQVJBLENBU0Msb0JBQUFLLFVBQUFDLEtBQUEsV0FDRCxtQkNUQSxJQUFBQyxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFSLFFBR0EsSUFBQUMsRUFBQUssRUFBQUUsR0FBQSxDQUNBQyxFQUFBRCxFQUNBRSxHQUFBLEVBQ0FWLFFBQUEsSUFVQSxPQU5BVyxFQUFBSCxHQUFBSSxLQUFBWCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTyxHQUdBTixFQUFBUyxHQUFBLEVBR0FULEVBQUFELFFBMERBLE9BckRBTyxFQUFBTSxFQUFBRixFQUdBSixFQUFBTyxFQUFBUixFQUdBQyxFQUFBUSxFQUFBLFNBQUFmLEVBQUFnQixFQUFBQyxHQUNBVixFQUFBVyxFQUFBbEIsRUFBQWdCLElBQ0FHLE9BQUFDLGVBQUFwQixFQUFBZ0IsRUFBQSxDQUEwQ0ssWUFBQSxF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LFFBQUEsV0FBQWtKLE9BQ0FwTyxHQVdBLENBQ0E0SSxTQUFBLFNBQUE1RyxFQUFBUCxFQUFBeEMsR0FHQSxPQUFBd0MsRUFBQThCLEdBQUF2QixHQUNBL0MsRUFBQTBSLFFBQUFMLEVBQUFyUixHQUNBbVIsRUFBQXBPLEtBRUFzTSxLQWhCQWdDLEVBQUEsU0FBQXJSLEdBS0EsT0FKQUEsRUFBQWdSLFFBQ0FoUixFQUFBaVIsYUFDQWpSLEVBQUEwUixPQUFBUCxFQUNBblIsRUFBQW9SLFdBQ0FwUixLQTRCQTZMLEVBQUFuRyxFQUFBaU0sUUFHQWpKLEVBQUFoRCxFQUFBZ0QsQ0FBQTlHLEVBQUFzSCxHQUtBLE9BRkE2SCxFQUFBYSxRQUFBLFFBRUFiLEVBbGxDNkQxVSxpQ0NoQjdERSxFQUFBRCxRQUVBLFNBQUF1VixHQUNBLHVCQUFBN0csU0FDQSxVQUFBOEcsTUFBQSwyQ0FFQSxJQUFBNUksRUFBQThCLFNBQUErRyxXQUNBLGdCQUFBN0ksR0FBQSxnQkFBQUEsRUFDQSxPQUFBOEksV0FBQUgsRUFBQSxHQUdBN0csU0FBQXlELGlCQUFBLDhCQUNBb0QiLCJmaWxlIjoid2VicGFjay1saWJyYXJ5LXN0YXJ0ZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJ3ZWJwYWNrLWxpYnJhcnktc3RhcnRlclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJ3ZWJwYWNrLWxpYnJhcnktc3RhcnRlclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ3ZWJwYWNrLWxpYnJhcnktc3RhcnRlclwiXSA9IGZhY3RvcnkoKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgRG9tQ2hlY2tlciBmcm9tICcuL2RvbWNoZWNrZXIuanMnO1xuXG5jb25zdCBkb21DaGVjayA9IG5ldyBEb21DaGVja2VyKCk7XG5cbmRvbUNoZWNrLmluaXQoKTtcbiIsImltcG9ydCBVWCBmcm9tICcuL3V4JztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvbUNoZWNrZXIge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuXG4gIH1cblxuICBpbml0KCkge1xuXG4gICAgbGV0IHV4ID0gbmV3IFVYKCk7XG5cbiAgICB1eC5vblJlYWR5KCk7XG5cbiAgfVxuXG59XG4iLCJpbXBvcnQgY3Nzb2JqIGZyb20gJ2Nzc29iaic7XG5cbnZhciByZWFkeSA9IHJlcXVpcmUoJ2RvY3VtZW50LXJlYWR5Jyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVYIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcblxuICB9XG5cbiAgYnVpbGRVWCgpIHtcblxuICAgIHZhciB3aWRnZXRTdHlsZXMgPSB7XG4gICAgICBkaXY6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAneWVsbG93JyxcbiAgICAgICAgY29sb3I6ICdyZWQnLFxuICAgICAgICAvLyBzaW11bGF0ZSA1MHZoIGluIENTUzNcbiAgICAgICAgaGVpZ2h0OiAoKSA9PiB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyICsgJ3B4J1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgcmVzdWx0ID0gY3Nzb2JqKHdpZGdldFN0eWxlcyk7XG5cbiAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiByZXN1bHQudXBkYXRlKCk7XG4gIH1cblxuICBvblJlYWR5KCkge1xuICAgIGxldCB0aGF0ID0gdGhpcztcblxuICAgIHJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuYnVpbGRVWCgpO1xuICAgIH0pO1xuXG4gIH1cblxufVxuIiwiLypcbiAgY3Nzb2JqIHYxLjMuNlxuICBUaHUgTWFyIDIyIDIwMTggMDk6NDE6MjUgR01UKzA4MDAgKENTVClcbiAgY29tbWl0IDUxOTllM2E5NDE5N2E5Y2ZkZDBlY2M0NTc2ZGNhZWQ3MWIwMTQ1OGRcblxuICBodHRwczovL2dpdGh1Yi5jb20vY3Nzb2JqL2Nzc29ialxuICBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5cbiAgQ29tcG9uZW50cyB2ZXJzaW9uIGluZm86XG4gIC0gY3Nzb2JqLWNvcmVAMS4xLjlcbiAgICAzMTlkOTRkOWQ2YzBlZTQ1NWVkMGRmZTBjN2Y3OTYyOThhMTQ1MjUwXG4gIC0gY3Nzb2JqLXBsdWdpbi1jc3NvbUA0LjEuNFxuICAgIDE4YjY2NWZmNjA1MWFlNzU0YzA5NTZlYTFjMjc4ZDBhNGNkYTExMmNcbiAgLSBjc3NvYmotcGx1Z2luLWxvY2FsaXplQDMuMy4yXG4gICAgOTA1Mjk0MzA5MjJiNGIzYmJiMjdjNzAyNjQxNTdmMWZhZTcxZWI2MlxuKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoJ2Nzc29iaicsIGZhY3RvcnkpIDpcblx0KGdsb2JhbC5jc3NvYmogPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbi8vIGhlbHBlciBmdW5jdGlvbnMgZm9yIGNzc29ialxuXG4vLyBjaGVjayBuIGlzIG51bWVyaWMsIG9yIHN0cmluZyBvZiBudW1lcmljXG5mdW5jdGlvbiBpc051bWVyaWMobikge1xuICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pXG59XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbCkge1xuICByZXR1cm4gdmFsID09IG51bGwgfHwgKHR5cGVvZiB2YWwgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbCAhPT0gJ29iamVjdCcpXG59XG5cbmZ1bmN0aW9uIG93bihvLCBrKSB7XG4gIHJldHVybiB7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIGspXG59XG5cbi8vIHNldCBkZWZhdWx0IG9wdGlvbiAobm90IGRlZXBseSlcbmZ1bmN0aW9uIGRlZmF1bHRzKG9wdGlvbnMsIGRlZmF1bHRPcHRpb24pIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGZvciAodmFyIGkgaW4gZGVmYXVsdE9wdGlvbikge1xuICAgIGlmIChvd24oZGVmYXVsdE9wdGlvbiwgaSkgJiYgIShpIGluIG9wdGlvbnMpKSBvcHRpb25zW2ldID0gZGVmYXVsdE9wdGlvbltpXTtcbiAgfVxuICByZXR1cm4gb3B0aW9uc1xufVxuXG4vLyBPYmplY3QuYXNzZ2luIHBvbHlmaWxsXG5mdW5jdGlvbiBfYXNzaWduICh0YXJnZXQsIHNvdXJjZSkge1xuICB2YXIgcywgZnJvbSwga2V5O1xuICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcbiAgZm9yIChzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuICAgIGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcbiAgICBmb3IgKGtleSBpbiBmcm9tKSB7XG4gICAgICBpZiAob3duKGZyb20sIGtleSkpIHtcbiAgICAgICAgdG9ba2V5XSA9IGZyb21ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvXG59XG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBfYXNzaWduO1xuLy8gY29uc29sZS5sb2coYXNzaWduKHt9LCB7YToxfSwge2E6Mn0sIHtiOjN9KSlcblxuLy8gY29udmVydCBqcyBwcm9wIGludG8gY3NzIHByb3AgKGRhc2hpZmllZClcbmZ1bmN0aW9uIGRhc2hpZnkoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24obSkge1xuICAgIHJldHVybiAnLScgKyBtLnRvTG93ZXJDYXNlKClcbiAgfSlcbn1cblxuLy8gY2FwaXRhbGl6ZSBzdHJcbmZ1bmN0aW9uIGNhcGl0YWxpemUgKHN0cikge1xuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cigxKVxufVxuXG4vLyByYW5kb20gc3RyaW5nLCBzaG91bGQgdXNlZCBhY3Jvc3MgYWxsIGNzc29iaiBwbHVnaW5zXG52YXIgcmFuZG9tID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNvdW50ID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBjb3VudCsrO1xuICAgIHJldHVybiAnXycgKyAocHJlZml4fHwnJykgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLnBvdygyLCAzMikpLnRvU3RyaW5nKDM2KSArIGNvdW50ICsgJ18nXG4gIH1cbn0pKCk7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnXG59XG4vLyB2YXIgb2JqPXthOntiOntjOjF9fX07XG4vLyBvYmpTZXQob2JqLCB7fSAse3g6MX0pO1xuLy8gb2JqU2V0KG9iaiwnYS5iLmMuZC5lJyx7eDoxfSk7XG4vLyBvYmpTZXQob2JqLCdhLmYuZC5zJy5zcGxpdCgnLicpLCB7eToxfSk7XG4vLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShvYmopKVxuXG5cbi8vIHJldHVybiBvYmplY3QgcGF0aCB3aXRoIG9ubHkgb2JqZWN0IHR5cGVcbmZ1bmN0aW9uIG9iakdldE9iaihvYmosIF9rZXkpIHtcbiAgdmFyIGtleSA9IEFycmF5LmlzQXJyYXkoX2tleSkgPyBfa2V5IDogU3RyaW5nKF9rZXkpLnNwbGl0KCcuJyk7XG4gIHZhciBwLCBuLCBvaz0xO1xuICB2YXIgcmV0ID0ge29rOm9rLCBwYXRoOmtleSwgb2JqOm9ian07XG4gIGZvcihwPTA7IHA8a2V5Lmxlbmd0aDsgcCsrKSB7XG4gICAgbiA9IGtleVtwXTtcbiAgICBpZighb2JqLmhhc093blByb3BlcnR5KG4pIHx8IGlzUHJpbWl0aXZlKG9ialtuXSkpIHtcbiAgICAgIG9rID0gMDtcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIG9iaiA9IG9ialtuXTtcbiAgfVxuICByZXQub2s9IG9rO1xuICByZXQucGF0aCA9IGtleS5zbGljZSgwLHApO1xuICByZXQub2JqPW9iajtcbiAgcmV0dXJuIHJldFxufVxuLy8gdmFyIG9iaj17YTp7Yjp7YzoxfX19O1xuLy8gY29uc29sZS5sb2cob2JqR2V0T2JqKG9iaikpXG4vLyBjb25zb2xlLmxvZyhvYmpHZXRPYmoob2JqLCBbXSkpXG4vLyBjb25zb2xlLmxvZyhvYmpHZXRPYmoob2JqLCAnYScpKVxuLy8gY29uc29sZS5sb2cob2JqR2V0T2JqKG9iaiwgJ2EuYicpKVxuLy8gY29uc29sZS5sb2cob2JqR2V0T2JqKG9iaiwgJ2EuYi5jLmUnKSlcblxuLy8gZXh0ZW5kIG9iaiBmcm9tIHNvdXJjZSwgaWYgaXQncyBubyBrZXkgaW4gb2JqLCBjcmVhdGUgb25lXG5mdW5jdGlvbiBleHRlbmRPYmogKG9iaiwga2V5LCBzb3VyY2UpIHtcbiAgb2JqW2tleV0gPSBvYmpba2V5XSB8fCB7fTtcbiAgZm9yKHZhciBhcmdzID0gYXJndW1lbnRzLCBpID0gMjsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBzb3VyY2UgPSBhcmdzW2ldO1xuICAgIGZvciAodmFyIGsgaW4gc291cmNlKVxuICAgICAgaWYgKG93bihzb3VyY2UsIGspKSBvYmpba2V5XVtrXSA9IHNvdXJjZVtrXTtcbiAgfVxuICByZXR1cm4gb2JqW2tleV1cbn1cblxuLy8gZW5zdXJlIG9ialtrXSBhcyBhcnJheSwgdGhlbiBwdXNoIHYgaW50byBpdFxuZnVuY3Rpb24gYXJyYXlLViAob2JqLCBrLCB2LCByZXZlcnNlLCB1bmlxdWUpIHtcbiAgdmFyIGQgPSBvYmpba107XG4gIGQgPSBvYmpba10gPSBrIGluIG9iaiA/IChBcnJheS5pc0FycmF5KGQpID8gZCA6IFtkXSkgOiBbXTtcbiAgaWYodW5pcXVlICYmIGQuaW5kZXhPZih2KT4tMSkgcmV0dXJuXG4gIHJldmVyc2UgPyBkLnVuc2hpZnQodikgOiBkLnB1c2godik7XG59XG5cbi8vIGdldCBwYXJlbnRzIGFycmF5IGZyb20gbm9kZSAod2hlbiBpdCdzIHBhc3NlZCB0aGUgdGVzdClcbmZ1bmN0aW9uIGdldFBhcmVudHMgKG5vZGUsIHRlc3QsIGtleSwgY2hpbGRyZW5LZXksIHBhcmVudEtleSkge1xuICB2YXIgaSwgdiwgcCA9IG5vZGUsIHBhdGggPSBbXTtcbiAgd2hpbGUgKHApIHtcbiAgICBpZiAodGVzdChwKSkge1xuICAgICAgaWYgKGNoaWxkcmVuS2V5KSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyYXlLVihwLCBjaGlsZHJlbktleSwgcGF0aFtpXSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGF0aFswXSAmJiBwYXJlbnRLZXkpIHtcbiAgICAgICAgcGF0aFswXVtwYXJlbnRLZXldID0gcDtcbiAgICAgIH1cbiAgICAgIHBhdGgudW5zaGlmdChwKTtcbiAgICB9XG4gICAgcCA9IHAucGFyZW50O1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgdiA9IHBhdGhbaV07XG4gICAgcGF0aFtpXSA9IGtleSA/IHZba2V5XSA6IHY7XG4gIH1cblxuICByZXR1cm4gcGF0aFxufVxuXG4vLyBzcGxpdCBzZWxlY3RvciB3aXRoIHNwbGl0dGVyLCBhd2FyZSBvZiBjc3MgYXR0cmlidXRlc1xuZnVuY3Rpb24gc3BsaXRTZWxlY3RvciAoc2VsLCBzcGxpdHRlciwgaW5CcmFja2V0KSB7XG4gIGlmIChzZWwuaW5kZXhPZihzcGxpdHRlcikgPCAwKSByZXR1cm4gW3NlbF1cbiAgZm9yICh2YXIgYywgaSA9IDAsIG4gPSAwLCBpbnN0ciA9ICcnLCBwcmV2ID0gMCwgZCA9IFtdOyBjID0gc2VsLmNoYXJBdChpKTsgaSsrKSB7XG4gICAgaWYgKGluc3RyKSB7XG4gICAgICBpZiAoYyA9PSBpbnN0ciAmJiBzZWwuY2hhckF0KGktMSkhPSdcXFxcJykgaW5zdHIgPSAnJztcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIGlmIChjID09ICdcIicgfHwgYyA9PSAnXFwnJykgaW5zdHIgPSBjO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgICBpZighaW5CcmFja2V0KXtcbiAgICAgIGlmIChjID09ICcoJyB8fCBjID09ICdbJykgbisrO1xuICAgICAgaWYgKGMgPT0gJyknIHx8IGMgPT0gJ10nKSBuLS07XG4gICAgfVxuICAgIGlmICghbiAmJiBjID09IHNwbGl0dGVyKSBkLnB1c2goc2VsLnN1YnN0cmluZyhwcmV2LCBpKSksIHByZXYgPSBpICsgMTtcbiAgfVxuICByZXR1cm4gZC5jb25jYXQoc2VsLnN1YnN0cmluZyhwcmV2KSlcbn1cblxuLy8gY2hlY2tpbmcgZm9yIHZhbGlkIGNzcyB2YWx1ZVxuZnVuY3Rpb24gaXNWYWxpZENTU1ZhbHVlICh2YWwpIHtcbiAgLy8gZmFsc3k6ICcnLCBOYU4sIEluZmluaXR5LCBbXSwge31cbiAgcmV0dXJuIHR5cGVvZiB2YWw9PSdzdHJpbmcnICYmIHZhbCB8fCB0eXBlb2YgdmFsPT0nbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpXG59XG5cbi8vIHVzaW5nIHZhciBhcyBpdGVyYWwgdG8gaGVscCBvcHRpbWl6ZVxudmFyIEtFWV9JRCA9ICckaWQnO1xudmFyIEtFWV9PUkRFUiA9ICckb3JkZXInO1xudmFyIEtFWV9URVNUID0gJyR0ZXN0JztcblxudmFyIFRZUEVfR1JPVVAgPSAnZ3JvdXAnO1xuXG4vLyBoZWxwZXIgZnVuY3Rpb25cbnZhciBrZXlzID0gT2JqZWN0LmtleXM7XG5cbi8vIHR5cGUgY2hlY2sgaGVscGVyc1xudmFyIHR5cGUgPSB7fS50b1N0cmluZztcbnZhciBBUlJBWSA9IHR5cGUuY2FsbChbXSk7XG52YXIgT0JKRUNUID0gdHlwZS5jYWxsKHt9KTtcblxuLy8gb25seSBhcnJheSwgb2JqZWN0IG5vdyB0cmVhdGVkIGFzIGl0ZXJhYmxlXG5mdW5jdGlvbiBpc0l0ZXJhYmxlICh2KSB7XG4gIHJldHVybiB0eXBlLmNhbGwodikgPT0gT0JKRUNUIHx8IHR5cGUuY2FsbCh2KSA9PSBBUlJBWVxufVxuXG4vLyBjaGVjayBpZiBpdCdzIGZ1bmN0aW9uXG5mdW5jdGlvbiBpc0Z1bmN0aW9uICh2KSB7XG4gIHJldHVybiB0eXBlb2YgdiA9PSAnZnVuY3Rpb24nXG59XG5cbi8vIHJlZ2V4cCBjb25zdGFudHNcbi8vIEBwYWdlIHJ1bGU6IENTU09NOlxuLy8gICBJRSByZXR1cm5lZDogbm90IGltcGxlbWVudGVkIGVycm9yXG4vLyAgIEZGLCBDaHJvbWUgYWN0dWFsbHkgaXMgbm90IGdyb3VwUnVsZShub3QgY3NzUnVsZXMpLCBzYW1lIGFzIEBmb250LWZhY2UgcnVsZVxuLy8gICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ1NTR3JvdXBpbmdSdWxlXG4vLyAgIENTU1BhZ2VSdWxlIGlzIGxpc3RlZCBhcyBkZXJpdmVkIGZyb20gQ1NTR3JvdXBpbmdSdWxlLCBidXQgbm90IGltcGxlbWVudGVkIHlldC5cbi8vICAgSGVyZSBhZGRlZCBAcGFnZSBhcyBHcm91cFJ1bGUsIGJ1dCBwbHVnaW4gc2hvdWxkIHRha2UgY2FyZSBvZiB0aGlzLlxudmFyIHJlR3JvdXBSdWxlID0gL15AKG1lZGlhfGRvY3VtZW50fHN1cHBvcnRzfHBhZ2V8W1xcdy1dKmtleWZyYW1lcykvaTtcbnZhciByZUF0UnVsZSA9IC9eXFxzKkAvaTtcblxuLyoqXG4gKiBjb252ZXJ0IHNpbXBsZSBPYmplY3QgaW50byBub2RlIGRhdGFcbiAqXG4gaW5wdXQgZGF0YSBmb3JtYXQ6XG4ge1wiYVwiOntcImJcIjp7XCJjXCI6e1wiXCI6W3tjb2xvcjoxfV19fX0sIFwiYWJjXCI6MTIzLCAnQGltcG9ydCc6WzIsMyw0XSwgJ0BtZWRpYSAobWluLXdpZHRoOjMyMHB4KSc6eyBkOntvazoxfSB9fVxuICogICAgICAgIDEuIGV2ZXJ5IGtleSBpcyBmb2xkZXIgbm9kZVxuICogICAgICAgIDIuIFwiXCI6W3tydWxlMX0sIHtydWxlMn1dIHdpbGwgc3BsaXQgaW50byBzZXZlcmFsIHJ1bGVzXG4gKiAgICAgICAgMy4gJiB3aWxsIHJlcGxhY2VkIGJ5IHBhcmVudCwgXFxcXCYgd2lsbCBlc2NhcGVcbiAqICAgICAgICA0LiBhbGwgcHJvcCBzaG91bGQgYmUgaW4gZG9tLnN0eWxlIGNhbWVsQ2FzZVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fGFycmF5fSBkIC0gc2ltcGxlIG9iamVjdCBkYXRhLCBvciBhcnJheVxuICogQHBhcmFtIHtvYmplY3R9IHJlc3VsdCAtIHRoZSByZXVsc3Qgb2JqZWN0IHRvIHN0b3JlIGNvbmZpZyBhbmQgcm9vdCBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gW3ByZXZpb3VzTm9kZV0gLSBhbHNvIGFjdCBhcyBwYXJlbnQgZm9yIG5leHQgbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBpbml0IHdoZXRoZXIgaXQncyB0aGUgcm9vdCBjYWxsXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBub2RlIGRhdGEgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHBhcnNlT2JqIChkLCByZXN1bHQsIG5vZGUsIGluaXQpIHtcbiAgaWYgKGluaXQpIHtcbiAgICByZXN1bHQubm9kZXMgPSBbXTtcbiAgICByZXN1bHQucmVmID0ge307XG4gICAgaWYgKG5vZGUpIHJlc3VsdC5kaWZmID0ge307XG4gIH1cblxuICBub2RlID0gbm9kZSB8fCB7fTtcblxuICBub2RlLm9iaiA9IGQ7XG5cbiAgaWYgKHR5cGUuY2FsbChkKSA9PSBBUlJBWSkge1xuICAgIHZhciBub2RlcyA9IFtdO1xuICAgIC8qIGZvciBhcnJheSB0eXBlLCBlYWNoIGNoaWxkcmVuIGhhdmUgYSBwYXJlbnQgdGhhdCBub3Qgb24gdGhlIHZpcnR1YWwgdHJlZSxcbiAgICAgICBzZWUgdGVzdCBjYXNlIG9mIEBtZWRpYS1hcnJheSBmb3IgZXhhbXBsZSwgdGhlIGFycmF5IG5vZGUgb2JqPUFycmF5LCBidXQgaGF2ZSBub2RlLnNlbFBhcnQobm8gc2VsVGV4dClcbiAgICAgICBTbyBoYXZlIHRvIHNldCB0aGUgcmlnaHQgbm9kZS5hdC9ub2RlLnR5cGUgZnJvbSB0aGUgbm9kZS5rZXksIHRvIGdldCByaWdodCBzZWxUZXh0IGZvciBjaGlsZHJlbiAqL1xuICAgIG5vZGUuYXQgPSByZUF0UnVsZS5leGVjKG5vZGUua2V5KTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgZC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHByZXYgPSBub2RlW2ldO1xuICAgICAgdmFyIG4gPSBwYXJzZU9iaihkW2ldLCByZXN1bHQsIG5vZGVbaV0gfHwge3BhcmVudDogbm9kZSwgc3JjOiBkLCBwYXJlbnROb2RlOiBub2RlcywgaW5kZXg6IGl9KTtcbiAgICAgIGlmKHJlc3VsdC5kaWZmICYmIHByZXYhPW4pIGFycmF5S1YocmVzdWx0LmRpZmYsIG4gPyAnYWRkZWQnIDogJ3JlbW92ZWQnLCBufHxwcmV2KTtcbiAgICAgIG5vZGVzLnB1c2gobik7XG4gICAgfVxuICAgIHJldHVybiBub2Rlc1xuICB9IGVsc2Uge1xuICAgIGlmIChkW0tFWV9JRF0pIHJlc3VsdC5yZWZbZFtLRVlfSURdXSA9IG5vZGU7XG4gICAgLy8gaXQncyBubyBuZWVkIHRvIGNoZWNrICh0eXBlLmNhbGwoZCkgPT0gT0JKRUNUKVxuICAgIC8vIGlzSXRlcmFibGUgd2lsbCBmaWx0ZXIgb25seSBBUlJBWS9PQkpFQ1RcbiAgICAvLyBvdGhlciB0eXBlcyB3aWxsIGdvdG8gcGFyc2VQcm9wIGZ1bmN0aW9uXG4gICAgdmFyIHByZXZWYWwgPSBub2RlLnByZXZWYWwgPSBub2RlLmxhc3RWYWw7XG4gICAgLy8gYXQgZmlyc3Qgc3RhZ2UgY2hlY2sgJHRlc3RcbiAgICBpZiAoS0VZX1RFU1QgaW4gZCkge1xuICAgICAgdmFyIHRlc3QgPSBpc0Z1bmN0aW9uKGRbS0VZX1RFU1RdKSA/IGRbS0VZX1RFU1RdKCFub2RlLmRpc2FibGVkLCBub2RlLCByZXN1bHQpIDogZFtLRVlfVEVTVF07XG4gICAgICAvLyBpZiB0ZXN0IGZhbHNlLCByZW1vdmUgbm9kZSBjb21wbGV0ZWx5XG4gICAgICAvLyBpZiBpdCdzIHJldHVybiBmdW5jdGlvbiwgZ29pbmcgdG8gc3RhZ2UgMiB3aGVyZSBhbGwgcHJvcCByZW5kZXJlZFxuICAgICAgaWYoIXRlc3QpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBub2RlLnRlc3QgPSB0ZXN0O1xuICAgIH1cbiAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbiB8fCB7fTtcbiAgICBub2RlLmxhc3RSYXcgPSBub2RlLnJhd1ZhbCB8fCB7fTtcbiAgICBub2RlLmxhc3RWYWwgPSB7fTtcbiAgICBub2RlLnJhd1ZhbCA9IHt9O1xuICAgIG5vZGUucHJvcCA9IHt9O1xuICAgIG5vZGUuZGlmZiA9IHt9O1xuICAgIHZhciBvcmRlciA9IGRbS0VZX09SREVSXSB8IDA7XG4gICAgdmFyIGZ1bmNBcnIgPSBbXTtcblxuICAgIHZhciBwcm9jZXNzT2JqID0gZnVuY3Rpb24gKG9iaiwgaywgbm9kZU9iaikge1xuICAgICAgdmFyIGhhdmVPbGRDaGlsZCA9IGsgaW4gY2hpbGRyZW47XG4gICAgICB2YXIgbmV3Tm9kZSA9IGV4dGVuZE9iaihjaGlsZHJlbiwgaywgbm9kZU9iaik7XG4gICAgICAvLyBkb24ndCBvdmVyd3JpdGUgc2VsUGFydCBmb3IgcHJldmlvdXMgbm9kZVxuICAgICAgbmV3Tm9kZS5zZWxQYXJ0ID0gbmV3Tm9kZS5zZWxQYXJ0IHx8IHNwbGl0U2VsZWN0b3IoaywgJywnKTtcbiAgICAgIHZhciBuID0gcGFyc2VPYmoob2JqLCByZXN1bHQsIG5ld05vZGUpO1xuICAgICAgaWYobikgY2hpbGRyZW5ba10gPSBuO1xuICAgICAgLy8gaXQncyBuZXcgYWRkZWQgbm9kZVxuICAgICAgaWYgKHByZXZWYWwpICFoYXZlT2xkQ2hpbGRcbiAgICAgICAgPyBuICYmIGFycmF5S1YocmVzdWx0LmRpZmYsICdhZGRlZCcsIG4pXG4gICAgICAgIDogIW4gJiYgYXJyYXlLVihyZXN1bHQuZGlmZiwgJ3JlbW92ZWQnLCBjaGlsZHJlbltrXSk7XG4gICAgICAvLyBmb3IgZmlyc3QgdGltZSBjaGVjaywgcmVtb3ZlIGZyb20gcGFyZW50IChubyBkaWZmKVxuICAgICAgaWYoIW4pIGRlbGV0ZSBub2RlT2JqLnBhcmVudC5jaGlsZHJlbltrXTtcbiAgICB9O1xuXG4gICAgLy8gb25seSB0aGVyZSdzIG5vIHNlbFRleHQsIGdldFNlbFxuICAgIGlmKCEoJ3NlbFRleHQnIGluIG5vZGUpKSBnZXRTZWwobm9kZSwgcmVzdWx0KTtcblxuICAgIGZvciAodmFyIGsgaW4gZCkge1xuICAgICAgLy8gaGVyZSAka2V5IHN0YXJ0IHdpdGggJCBpcyBzcGVjaWFsXG4gICAgICAvLyBrWzBdID09ICckJyAuLi4gYnV0IHRoZSBjb3JlIHdpbGwgY2FsYyBpdCBpbnRvIG5vZGUuXG4gICAgICAvLyBQbHVnaW5zIHNob3VsZCB0YWtlICQgd2l0aCBjYXJlIGFuZCBtYXJrIGFzIGEgc3BlY2lhbCBjYXNlLiBlLmcuIGlnbm9yZSBpdFxuICAgICAgaWYgKCFvd24oZCwgaykpIGNvbnRpbnVlXG4gICAgICBpZiAoIWlzSXRlcmFibGUoZFtrXSkgfHwgdHlwZS5jYWxsKGRba10pID09IEFSUkFZICYmICFpc0l0ZXJhYmxlKGRba11bMF0pKSB7XG5cbiAgICAgICAgLy8gaXQncyBpbmxpbmUgYXQtcnVsZTogQGltcG9ydCBldGMuXG4gICAgICAgIGlmIChrWzBdPT0nQCcpIHtcbiAgICAgICAgICBwcm9jZXNzT2JqKFxuICAgICAgICAgICAgLy8gbWFwIEBpbXBvcnQ6IFthLGIsY10gaW50byB7YToxLCBiOjEsIGM6MX1cbiAgICAgICAgICAgIFtdLmNvbmNhdChkW2tdKS5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgICAgICAgICAgIHByZXZbY3VyXSA9ICc7JztcbiAgICAgICAgICAgICAgcmV0dXJuIHByZXZcbiAgICAgICAgICAgIH0sIHt9KSwgaywge3BhcmVudDogbm9kZSwgc3JjOiBkLCBrZXk6IGssIGlubGluZTp0cnVlfSk7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByID0gZnVuY3Rpb24gKF9rKSB7XG4gICAgICAgICAgLy8gc2tpcCAkdGVzdCBrZXlcbiAgICAgICAgICBpZihfayAhPSBLRVlfVEVTVCkgcGFyc2VQcm9wKG5vZGUsIGQsIF9rLCByZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBvcmRlclxuICAgICAgICAgID8gZnVuY0Fyci5wdXNoKFtyLCBrXSlcbiAgICAgICAgICA6IHIoayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzT2JqKGRba10sIGssIHtwYXJlbnQ6IG5vZGUsIHNyYzogZCwga2V5OiBrfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gd2hlbiBpdCdzIHNlY29uZCB0aW1lIHZpc2l0IG5vZGVcbiAgICBpZiAocHJldlZhbCkge1xuICAgICAgLy8gY2hpbGRyZW4gcmVtb3ZlZFxuICAgICAgZm9yIChrIGluIGNoaWxkcmVuKSB7XG4gICAgICAgIGlmICghKGsgaW4gZCkpIHtcbiAgICAgICAgICBhcnJheUtWKHJlc3VsdC5kaWZmLCAncmVtb3ZlZCcsIGNoaWxkcmVuW2tdKTtcbiAgICAgICAgICBkZWxldGUgY2hpbGRyZW5ba107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcHJvcCBjaGFuZ2VkXG4gICAgICB2YXIgZGlmZlByb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdLZXlzID0ga2V5cyhub2RlLmxhc3RWYWwpO1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IGtleXMocHJldlZhbCkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiBuZXdLZXlzLmluZGV4T2YoeCkgPCAwIH0pO1xuICAgICAgICBpZiAocmVtb3ZlZC5sZW5ndGgpIG5vZGUuZGlmZi5yZW1vdmVkID0gcmVtb3ZlZDtcbiAgICAgICAgaWYgKGtleXMobm9kZS5kaWZmKS5sZW5ndGgpIGFycmF5S1YocmVzdWx0LmRpZmYsICdjaGFuZ2VkJywgbm9kZSk7XG4gICAgICB9O1xuICAgICAgb3JkZXJcbiAgICAgICAgPyBmdW5jQXJyLnB1c2goW2RpZmZQcm9wLCBudWxsXSlcbiAgICAgICAgOiBkaWZmUHJvcCgpO1xuICAgIH1cblxuICAgIGlmIChvcmRlcikgYXJyYXlLVihyZXN1bHQsICdfb3JkZXInLCB7b3JkZXI6IG9yZGVyLCBmdW5jOiBmdW5jQXJyfSk7XG4gICAgcmVzdWx0Lm5vZGVzLnB1c2gobm9kZSk7XG4gICAgcmV0dXJuIG5vZGVcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIGdldFNlbChub2RlLCByZXN1bHQpIHtcblxuICB2YXIgb3B0ID0gcmVzdWx0LmNvbmZpZztcblxuICAvLyBhcnJheSBpbmRleCBkb24ndCBoYXZlIGtleSxcbiAgLy8gZmV0Y2ggcGFyZW50IGtleSBhcyBydWxlTm9kZVxuICB2YXIgcnVsZU5vZGUgPSBnZXRQYXJlbnRzKG5vZGUsIGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHYua2V5XG4gIH0pLnBvcCgpO1xuXG4gIG5vZGUucGFyZW50UnVsZSA9IGdldFBhcmVudHMobm9kZS5wYXJlbnQsIGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIG4udHlwZSA9PSBUWVBFX0dST1VQXG4gIH0pLnBvcCgpIHx8IG51bGw7XG5cbiAgaWYgKHJ1bGVOb2RlKSB7XG4gICAgdmFyIGlzTWVkaWEsIHNlbCA9IHJ1bGVOb2RlLmtleTtcbiAgICB2YXIgZ3JvdXBSdWxlID0gc2VsLm1hdGNoKHJlR3JvdXBSdWxlKTtcbiAgICBpZiAoZ3JvdXBSdWxlKSB7XG4gICAgICBub2RlLnR5cGUgPSBUWVBFX0dST1VQO1xuICAgICAgbm9kZS5hdCA9IGdyb3VwUnVsZS5wb3AoKTtcbiAgICAgIGlzTWVkaWEgPSBub2RlLmF0ID09ICdtZWRpYSc7XG5cbiAgICAgIC8vIG9ubHkgbWVkaWEgYWxsb3cgbmVzdGVkIGFuZCBqb2luLCBhbmQgaGF2ZSBub2RlLnNlbFBhcnRcbiAgICAgIGlmIChpc01lZGlhKSBub2RlLnNlbFBhcnQgPSBzcGxpdFNlbGVjdG9yKHNlbC5yZXBsYWNlKHJlR3JvdXBSdWxlLCAnJyksICcsJyk7XG5cbiAgICAgIC8vIGNvbWJpbmVQYXRoIGlzIGFycmF5LCAnc3RyJyArIGFycmF5IGluc3RlYWQgb2YgYXJyYXkuam9pbignLCcpXG4gICAgICBub2RlLmdyb3VwVGV4dCA9IGlzTWVkaWFcbiAgICAgICAgPyAnQCcgKyBub2RlLmF0ICsgY29tYmluZVBhdGgoZ2V0UGFyZW50cyhub2RlLCBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiB2LnR5cGUgPT0gVFlQRV9HUk9VUFxuICAgICAgICB9LCAnc2VsUGFydCcsICdzZWxDaGlsZCcsICdzZWxQYXJlbnQnKSwgJycsICcgYW5kJylcbiAgICAgIDogc2VsO1xuXG4gICAgICBub2RlLnNlbFRleHQgPSBnZXRQYXJlbnRzKG5vZGUsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiB2LnNlbFRleHQgJiYgIXYuYXRcbiAgICAgIH0sICdzZWxUZXh0JykucG9wKCkgfHwgJyc7XG4gICAgfSBlbHNlIGlmIChyZUF0UnVsZS50ZXN0KHNlbCkpIHtcbiAgICAgIG5vZGUudHlwZSA9ICdhdCc7XG4gICAgICBub2RlLnNlbFRleHQgPSBzZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuc2VsVGV4dCA9ICcnICsgY29tYmluZVBhdGgoZ2V0UGFyZW50cyhydWxlTm9kZSwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIHYuc2VsUGFydCAmJiAhdi5hdFxuICAgICAgfSwgJ3NlbFBhcnQnLCAnc2VsQ2hpbGQnLCAnc2VsUGFyZW50JyksICcnLCAnICcsIHRydWUpLCBvcHQ7XG4gICAgfVxuXG4gICAgbm9kZS5zZWxUZXh0ID0gYXBwbHlQbHVnaW5zKG9wdCwgJ3NlbGVjdG9yJywgbm9kZS5zZWxUZXh0LCBub2RlLCByZXN1bHQpO1xuICAgIGlmIChub2RlLnNlbFRleHQpIG5vZGUuc2VsVGV4dFBhcnQgPSBzcGxpdFNlbGVjdG9yKG5vZGUuc2VsVGV4dCwgJywnKTtcblxuICAgIGlmIChub2RlICE9PSBydWxlTm9kZSkgbm9kZS5ydWxlTm9kZSA9IHJ1bGVOb2RlO1xuICB9XG5cbn1cblxuLyoqXG4gKiBQYXJzZSBwcm9wZXJ0eSBvZiBvYmplY3QgZCdzIGtleSwgd2l0aCBwcm9wS2V5IGFzIGEgY2FuZGlkYXRlIGtleSBuYW1lXG4gKiBAcGFyYW0ge30gbm9kZTogdi1ub2RlIG9mIGNzc29ialxuICogQHBhcmFtIHt9IGQ6IHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7fSBrZXk6IGFueSBudW1lcmljIHdpbGwgYmUgaWdub3JlZCwgdGhlbiBjb252ZXJ0ZWQgdG8gc3RyaW5nXG4gKiBAcGFyYW0ge30gcmVzdWx0OiBjc3NvYmogcmVzdWx0IG9iamVjdFxuICogQHBhcmFtIHt9IHByb3BLZXk6IGNhbmRpZGF0ZSBwcm9wIGtleSBuYW1lXG5cbiBBY2NlcHQgb25seSBrZXkgYXMgc3RyaW5nLCBudW1lcmljIHdpbGwgYmUgaWdub3JlZFxuXG4gY29sb3I6IGZ1bmN0aW9uKCl7cmV0dXJuIFsncmVkJywgJ2JsdWUnXX0gd2lsbCBleHBhbmRcbiBjb2xvcjogZnVuY3Rpb24oKXtyZXR1cm4ge2ZvbnRTaXplOiAnMTJweCcsIGZsb2F0OidyaWdodCd9fSB3aWxsIGJlIHJlcGxhY2VkXG5cbiAqL1xuZnVuY3Rpb24gcGFyc2VQcm9wIChub2RlLCBkLCBrZXksIHJlc3VsdCwgcHJvcEtleSkge1xuICB2YXIgcHJldlZhbCA9IG5vZGUucHJldlZhbDtcbiAgdmFyIGxhc3RWYWwgPSBub2RlLmxhc3RWYWw7XG5cbiAgLy8gdGhlIHByb3AgbmFtZSBnZXQgZnJvbSBvYmplY3Qga2V5IG9yIGNhbmRpZGF0ZSBrZXlcbiAgdmFyIHByb3BOYW1lID0gaXNOdW1lcmljKGtleSkgPyBwcm9wS2V5IDoga2V5O1xuXG4gIC8vIE5FWFQ6IHByb3BOYW1lIGNhbiBiZSBjaGFuZ2VkIGJ5IHVzZXJcbiAgLy8gbm93IGl0J3Mgbm90IHVzZWQsIHNpbmNlIHByb3BOYW1lIGVuc3VyZSBleGlzdHNcbiAgLy8gY29ybmVyIGNhc2U6IHByb3BLZXk9PT0nJyA/PyBiZWxvdyBsaW5lIHdpbGwgZG8gd3JvbmchIVxuICAvLyBpZighcHJvcE5hbWUpIHJldHVyblxuXG4gIHZhciByYXcgPSBub2RlLmxhc3RSYXdbcHJvcE5hbWVdLFxuICAgICAgcHJldiA9IHByZXZWYWwgJiYgcHJldlZhbFtwcm9wTmFtZV0sXG4gICAgICBhcmdPYmogPSB7bm9kZTpub2RlLCByZXN1bHQ6cmVzdWx0fTtcblxuICBpZiAocmF3KSBhcmdPYmoucmF3ID0gcmF3WzBdO1xuXG4gICFbXS5jb25jYXQoZFtrZXldKS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgLy8gcHJlcGFyZSB2YWx1ZSBmdW5jdGlvbiBhcmdzXG4gICAgYXJnT2JqLmNvb2tlZCA9IHByZXY7XG5cbiAgICAvLyBwYXNzIGxhc3RWYWwgaWYgaXQncyBmdW5jdGlvblxuICAgIGFyZ09iai5yYXcgPSByYXcgPSBpc0Z1bmN0aW9uKHYpXG4gICAgICAgID8gdihhcmdPYmopXG4gICAgICAgIDogdjtcblxuICAgIHZhciB2YWwgPSBhcHBseVBsdWdpbnMocmVzdWx0LmNvbmZpZywgJ3ZhbHVlJywgcmF3LCBwcm9wTmFtZSwgbm9kZSwgcmVzdWx0LCBwcm9wS2V5KTtcblxuICAgIC8vIGNoZWNrIGFuZCBtZXJnZSBvbmx5IGZvcm1hdCBhcyBPYmplY3QgfHwgQXJyYXkgb2YgT2JqZWN0LCBvdGhlciBmb3JtYXQgbm90IGFjY2VwdGVkIVxuICAgIGlmIChpc0l0ZXJhYmxlKHZhbCkpIHtcbiAgICAgIGZvciAodmFyIGsgaW4gdmFsKSB7XG4gICAgICAgIGlmIChvd24odmFsLCBrKSkgcGFyc2VQcm9wKG5vZGUsIHZhbCwgaywgcmVzdWx0LCBwcm9wTmFtZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycmF5S1YgKFxuICAgICAgICBub2RlLnJhd1ZhbCxcbiAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgIHJhdyxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICAgIGlmIChpc1ZhbGlkQ1NTVmFsdWUodmFsKSkge1xuICAgICAgICAvLyBvbmx5IHZhbGlkIHZhbCBjYW4gZW50ZXIgbm9kZS5wcm9wIGFuZCBsYXN0VmFsXG4gICAgICAgIC8vIHB1c2ggZXZlcnkgdmFsIHRvIHByb3BcbiAgICAgICAgYXJyYXlLVihcbiAgICAgICAgICBub2RlLnByb3AsXG4gICAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgICAgdmFsLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgICAgcHJldiA9IGxhc3RWYWxbcHJvcE5hbWVdID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGlmIChwcmV2VmFsKSB7XG4gICAgaWYgKCEocHJvcE5hbWUgaW4gcHJldlZhbCkpIHtcbiAgICAgIGFycmF5S1Yobm9kZS5kaWZmLCAnYWRkZWQnLCBwcm9wTmFtZSk7XG4gICAgfSBlbHNlIGlmIChwcmV2VmFsW3Byb3BOYW1lXSAhPSBsYXN0VmFsW3Byb3BOYW1lXSkge1xuICAgICAgYXJyYXlLVihub2RlLmRpZmYsICdjaGFuZ2VkJywgcHJvcE5hbWUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb21iaW5lUGF0aCAoYXJyYXksIHBhcmVudFNlbCwgc2VwZXJhdG9yLCByZXBsYWNlQW1wZXJzYW5kKSB7XG4gIHJldHVybiAhYXJyYXkubGVuZ3RoID8gcGFyZW50U2VsIDogYXJyYXlbMF0ucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIHZhbHVlKSB7XG4gICAgdmFyIHBhcnQsIHN0ciA9IHBhcmVudFNlbCA/IHBhcmVudFNlbCArIHNlcGVyYXRvciA6IHBhcmVudFNlbDtcbiAgICBpZiAocmVwbGFjZUFtcGVyc2FuZCkge1xuICAgICAgcGFydCA9IHNwbGl0U2VsZWN0b3IoIHZhbHVlLCAnJicgKTtcbiAgICAgIHN0ciA9IHBhcnQubGVuZ3RoID4gMSA/IHBhcnQuam9pbihwYXJlbnRTZWwpIDogc3RyICsgdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoY29tYmluZVBhdGgoYXJyYXkuc2xpY2UoMSksIHN0ciwgc2VwZXJhdG9yLCByZXBsYWNlQW1wZXJzYW5kKSlcbiAgfSwgW10pXG59XG5cbmZ1bmN0aW9uIGFwcGx5UGx1Z2lucyAob3B0LCB0eXBlKSB7XG4gIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICB2YXIgcGx1Z2luID0gb3B0LnBsdWdpbnM7XG4gIC8vIHBsdWdpbiBpcyBhbHdheXMgQXJyYXksIHNvIGhlcmUgd2UgZG9uJ3QgY2hlY2sgaXRcbiAgcmV0dXJuIFtdLmNvbmNhdChwbHVnaW4pLnJlZHVjZShcbiAgICBmdW5jdGlvbiAocHJlLCBwbHVnaW4pIHsgcmV0dXJuIHBsdWdpblt0eXBlXSA/IHBsdWdpblt0eXBlXS5hcHBseShudWxsLCBbcHJlXS5jb25jYXQoYXJncykpIDogcHJlIH0sXG4gICAgYXJncy5zaGlmdCgpXG4gIClcbn1cblxuZnVuY3Rpb24gYXBwbHlPcmRlciAob3B0KSB7XG4gIGlmIChvcHQuX29yZGVyPT1udWxsKSByZXR1cm5cbiAgb3B0Ll9vcmRlclxuICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXJcbiAgICB9KVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICB2LmZ1bmMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgICAgICBmWzBdKGZbMV0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIG9wdC5fb3JkZXIgPSBbXTtcbn1cblxuZnVuY3Rpb24gY3Nzb2JqIChjb25maWcpIHtcblxuICBjb25maWcgPSBkZWZhdWx0cyhjb25maWcsIHtcbiAgICBwbHVnaW5zOiBbXSxcbiAgICBpbnRyb3M6IFtdXG4gIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoaW5pdE9iaiwgaW5pdFN0YXRlKSB7XG4gICAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiAob2JqLCBzdGF0ZSkge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGg+MSkgcmVzdWx0LnN0YXRlID0gc3RhdGUgfHwge307XG4gICAgICBpZiAob2JqKSByZXN1bHQub2JqID0gaXNGdW5jdGlvbihvYmopID8gb2JqKCkgOiBvYmo7XG4gICAgICByZXN1bHQucm9vdCA9IHBhcnNlT2JqKGV4dGVuZE9iaih7fSwgJycsIHJlc3VsdC5pbnRybywgcmVzdWx0Lm9iaiksIHJlc3VsdCwgcmVzdWx0LnJvb3QsIHRydWUpO1xuICAgICAgYXBwbHlPcmRlcihyZXN1bHQpO1xuICAgICAgcmVzdWx0ID0gYXBwbHlQbHVnaW5zKGNvbmZpZywgJ3Bvc3QnLCByZXN1bHQpO1xuICAgICAgaXNGdW5jdGlvbihjb25maWcub25VcGRhdGUpICYmIGNvbmZpZy5vblVwZGF0ZShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH07XG5cbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgaW50cm86IHt9LFxuICAgICAgdXBkYXRlOiB1cGRhdGVyLFxuICAgICAgY29uZmlnOiBjb25maWdcbiAgICB9O1xuXG4gICAgIVtdLmNvbmNhdChjb25maWcuaW50cm9zKS5mb3JFYWNoKFxuICAgICAgZnVuY3Rpb24odikge1xuICAgICAgICBleHRlbmRPYmoocmVzdWx0LCAnaW50cm8nLCBpc0Z1bmN0aW9uKHYpID8gdihyZXN1bHQpIDogdik7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHVwZGF0ZXIoaW5pdE9iaiwgaW5pdFN0YXRlIHx8IGNvbmZpZy5zdGF0ZSk7XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuLy8gcGx1Z2luIGZvciBjc3NvYmpcblxuZnVuY3Rpb24gY3JlYXRlRE9NIChyb290RG9jLCBpZCwgb3B0aW9uKSB7XG4gIHZhciBlbCA9IHJvb3REb2MuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICB2YXIgaGVhZCA9IHJvb3REb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgaWYoZWwpIHtcbiAgICBpZihvcHRpb24uYXBwZW5kKSByZXR1cm4gZWxcbiAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICB9XG4gIGVsID0gcm9vdERvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBoZWFkLmFwcGVuZENoaWxkKGVsKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcbiAgaWYgKG9wdGlvbi5hdHRycylcbiAgICBmb3IgKHZhciBpIGluIG9wdGlvbi5hdHRycykge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKGksIG9wdGlvbi5hdHRyc1tpXSk7XG4gICAgfVxuICByZXR1cm4gZWxcbn1cblxudmFyIGFkZENTU1J1bGUgPSBmdW5jdGlvbiAocGFyZW50LCBzZWxlY3RvciwgYm9keSwgbm9kZSkge1xuICB2YXIgaXNJbXBvcnRSdWxlID0gL0BpbXBvcnQvaS50ZXN0KG5vZGUuc2VsVGV4dCk7XG4gIHZhciBydWxlcyA9IHBhcmVudC5jc3NSdWxlcyB8fCBwYXJlbnQucnVsZXM7XG4gIHZhciBpbmRleD0wO1xuXG4gIHZhciBvbUFyciA9IFtdO1xuICB2YXIgc3RyID0gbm9kZS5pbmxpbmVcbiAgICAgID8gYm9keS5tYXAoZnVuY3Rpb24odikge1xuICAgICAgICByZXR1cm4gW25vZGUuc2VsVGV4dCwgJyAnLCB2XVxuICAgICAgfSlcbiAgICAgIDogW1tzZWxlY3RvciwgJ3snLCBib2R5LmpvaW4oJycpLCAnfSddXTtcblxuICBzdHIuZm9yRWFjaChmdW5jdGlvbih0ZXh0KSB7XG4gICAgaWYgKHBhcmVudC5jc3NSdWxlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaW5kZXggPSBpc0ltcG9ydFJ1bGUgPyAwIDogcnVsZXMubGVuZ3RoO1xuICAgICAgICBwYXJlbnQuYXBwZW5kUnVsZVxuICAgICAgICAgID8gcGFyZW50LmFwcGVuZFJ1bGUodGV4dC5qb2luKCcnKSkgIC8vIGtleWZyYW1lcy5hcHBlbmRSdWxlIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICA6IHBhcmVudC5pbnNlcnRSdWxlKHRleHQuam9pbignJyksIGluZGV4KTsgLy9maXJlZm94IDwxNiBhbHNvIHJldHVybiB1bmRlZmluZWQuLi5cblxuICAgICAgICBvbUFyci5wdXNoKHJ1bGVzW2luZGV4XSk7XG5cbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAvLyBtb2Rlcm4gYnJvd3NlciB3aXRoIHByZWZpeCBjaGVjaywgbm93IG9ubHkgLXdlYmtpdC1cbiAgICAgICAgLy8gaHR0cDovL3Nob3VsZGlwcmVmaXguY29tLyNhbmltYXRpb25zXG4gICAgICAgIC8vIGlmKHNlbGVjdG9yICYmIHNlbGVjdG9yLmluZGV4T2YoJ0BrZXlmcmFtZXMnKT09MCkgZm9yKHZhciByZXQsIGkgPSAwLCBsZW4gPSBjc3NQcmVmaXhlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyAgIHJldCA9IGFkZENTU1J1bGUocGFyZW50LCBzZWxlY3Rvci5yZXBsYWNlKCdAa2V5ZnJhbWVzJywgJ0AtJytjc3NQcmVmaXhlc1tpXS50b0xvd2VyQ2FzZSgpKycta2V5ZnJhbWVzJyksIGJvZHksIG5vZGUpXG4gICAgICAgIC8vICAgaWYocmV0Lmxlbmd0aCkgcmV0dXJuIHJldFxuICAgICAgICAvLyB9XG4gICAgICAgIC8vIHRoZSBydWxlIGlzIG5vdCBzdXBwb3J0ZWQsIGZhaWwgc2lsZW50bHlcbiAgICAgICAgLy8gY29uc29sZS5sb2coZSwgc2VsZWN0b3IsIGJvZHksIHBvcylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBhcmVudC5hZGRSdWxlKSB7XG5bXS5jb25jYXQoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24gKHNlbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIHJlbW92ZSBBTEwgQC1ydWxlIHN1cHBvcnQgZm9yIG9sZCBJRVxuICAgICAgICAgIGlmKGlzSW1wb3J0UnVsZSkge1xuICAgICAgICAgICAgaW5kZXggPSBwYXJlbnQuYWRkSW1wb3J0KHRleHRbMl0pO1xuICAgICAgICAgICAgb21BcnIucHVzaChwYXJlbnQuaW1wb3J0c1tpbmRleF0pO1xuXG4gICAgICAgICAgICAvLyBJRSBhZGRQYWdlUnVsZSgpIHJldHVybjogbm90IGltcGxlbWVudGVkISEhIVxuICAgICAgICAgICAgLy8gfSBlbHNlIGlmICgvQHBhZ2UvLnRlc3Qoc2VsKSkge1xuICAgICAgICAgICAgLy8gICBpbmRleCA9IHBhcmVudC5hZGRQYWdlUnVsZShzZWwsIHRleHRbMl0sIC0xKVxuICAgICAgICAgICAgLy8gICBvbUFyci5wdXNoKHJ1bGVzW3J1bGVzLmxlbmd0aC0xXSlcblxuICAgICAgICAgIH0gZWxzZSBpZiAoIS9eXFxzKkAvLnRlc3Qoc2VsKSkge1xuICAgICAgICAgICAgcGFyZW50LmFkZFJ1bGUoc2VsLCB0ZXh0WzJdLCBydWxlcy5sZW5ndGgpO1xuICAgICAgICAgICAgLy8gb2xkIElFIGhhdmUgYnVnOiBhZGRSdWxlIHdpbGwgYWx3YXlzIHJldHVybiAtMSEhIVxuICAgICAgICAgICAgb21BcnIucHVzaChydWxlc1tydWxlcy5sZW5ndGgtMV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coZSwgc2VsZWN0b3IsIGJvZHkpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG9tQXJyXG59O1xuXG5mdW5jdGlvbiBnZXRCb2R5Q3NzIChub2RlKSB7XG4gIC8vIGdldCBjc3NUZXh0IGZyb20gcHJvcFxuICB2YXIgcHJvcCA9IG5vZGUucHJvcDtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3ApLm1hcChmdW5jdGlvbiAoaykge1xuICAgIC8vIHNraXAgJHByb3AsIGUuZy4gJGlkLCAkb3JkZXJcbiAgICBpZihrWzBdPT0nJCcpIHJldHVybiAnJ1xuICAgIGZvciAodmFyIHYsIHJldD0nJywgaSA9IHByb3Bba10ubGVuZ3RoOyBpLS07KSB7XG4gICAgICB2ID0gcHJvcFtrXVtpXTtcblxuICAgICAgLy8gdmFsdWUgZXhwYW5kICYgbWVyZ2Ugc2hvdWxkIGJlIGRvbmUgYXMgdmFsdWUgZnVuY3Rpb24vcGx1Z2luIGluIGNzc29iai1jb3JlID49MC41LjBcbiAgICAgIHJldCArPSBub2RlLmlubGluZSA/IGsgOiBwcmVmaXhQcm9wKGssIHRydWUpICsgJzonICsgdiArICc7JztcbiAgICB9XG4gICAgcmV0dXJuIHJldFxuICB9KVxufVxuXG4vLyB2ZW5kb3IgcHJlZml4IHN1cHBvcnRcbi8vIGJvcnJvd2VkIGZyb20galF1ZXJ5IDEuMTJcbnZhclx0Y3NzUHJlZml4ZXMgPSBbIFwiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIiwgXCJPXCIgXTtcbnZhciBjc3NQcmVmaXhlc1JlZyA9IG5ldyBSZWdFeHAoJ14oPzonICsgY3NzUHJlZml4ZXMuam9pbignfCcpICsgJylbQS1aXScpO1xudmFyXHRlbXB0eVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLnN0eWxlO1xudmFyIHRlc3RQcm9wICA9IGZ1bmN0aW9uIChsaXN0KSB7XG4gIGZvcih2YXIgaSA9IGxpc3QubGVuZ3RoOyBpLS07KSB7XG4gICAgaWYobGlzdFtpXSBpbiBlbXB0eVN0eWxlKSByZXR1cm4gbGlzdFtpXVxuICB9XG59O1xuXG4vL1xuLyoqXG4gKiBjYWNoZSBjc3NQcm9wc1xuICogdGhlIHZhbHVlIGlzIEpTIGZvcm1hdCwgd2lsbCBiZSB1c2VkOlxuICogMS4gZGlmZiAmIHBhdGNoIHByb3BlcnRpZXMgZm9yIENTU09NXG4gKiAyLiB2ZW5kb3JQcmVmaXggcHJvcGVydHkgbmFtZSBjaGVja2luZ1xuICovXG52YXJcdGNzc1Byb3BzID0ge1xuICAvLyBub3JtYWxpemUgZmxvYXQgY3NzIHByb3BlcnR5XG4gICdmbG9hdCc6IHRlc3RQcm9wKFsnc3R5bGVGbG9hdCcsICdjc3NGbG9hdCcsICdmbG9hdCddKVxufTtcblxuXG4vLyByZXR1cm4gYSBjc3MgcHJvcGVydHkgbWFwcGVkIHRvIGEgcG90ZW50aWFsbHkgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5XG5mdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHtcblxuICAvLyBzaG9ydGN1dCBmb3IgbmFtZXMgdGhhdCBhcmUgbm90IHZlbmRvciBwcmVmaXhlZFxuICAvLyB3aGVuIG5hbWUgYWxyZWFkeSBoYXZlICctJyBhcyBmaXJzdCBjaGFyLCBkb24ndCBwcmVmaXhcbiAgaWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgfHwgbmFtZVswXSA9PSAnLScpIHJldHVyblxuXG4gIC8vIGNoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQgbmFtZXNcbiAgdmFyIHByZU5hbWUsIGNhcE5hbWUgPSBjYXBpdGFsaXplKG5hbWUpO1xuICB2YXIgaSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuICB3aGlsZSAoIGktLSApIHtcbiAgICBwcmVOYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG4gICAgaWYgKCBwcmVOYW1lIGluIGVtcHR5U3R5bGUgKSByZXR1cm4gcHJlTmFtZVxuICB9XG59XG5cbi8vIGFwcGx5IHByb3AgdG8gZ2V0IHJpZ2h0IHZlbmRvciBwcmVmaXhcbi8vIGluQ1NTIGZhbHNlPWNhbWVsY2FzZTsgdHJ1ZT1kYXNoZWRcbmZ1bmN0aW9uIHByZWZpeFByb3AgKG5hbWUsIGluQ1NTKSB7XG4gIC8vICRwcm9wIHdpbGwgc2tpcFxuICBpZihuYW1lWzBdPT0nJCcpIHJldHVybiAnJ1xuICAvLyBmaW5kIG5hbWUgYW5kIGNhY2hlIHRoZSBuYW1lIGZvciBuZXh0IHRpbWUgdXNlXG4gIHZhciByZXROYW1lID0gY3NzUHJvcHNbIG5hbWUgXSB8fFxuICAgICAgKCBjc3NQcm9wc1sgbmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB8fCBuYW1lKTtcbiAgcmV0dXJuIGluQ1NTICAgLy8gaWYgaGFzUHJlZml4IGluIHByb3BcbiAgICA/IGRhc2hpZnkoY3NzUHJlZml4ZXNSZWcudGVzdChyZXROYW1lKSA/IGNhcGl0YWxpemUocmV0TmFtZSkgOiBuYW1lPT0nZmxvYXQnICYmIG5hbWUgfHwgcmV0TmFtZSkgIC8vIGZpeCBmbG9hdCBpbiBDU1MsIGF2b2lkIHJldHVybiBjc3NGbG9hdFxuICA6IHJldE5hbWVcbn1cblxuLyoqXG4gKiBHZXQgdmFsdWUgYW5kIGltcG9ydGFudCBmbGFnIGZyb20gdmFsdWUgc3RyXG4gKiBAcGFyYW0ge0NTU1N0eWxlUnVsZX0gcnVsZSBjc3Mgc3R5bGUgcnVsZSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIHByb3AgdG8gc2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsIHZhbHVlIHN0cmluZ1xuICovXG5mdW5jdGlvbiBzZXRDU1NQcm9wZXJ0eSAoc3R5bGVPYmosIHByb3AsIHZhbCkge1xuICB2YXIgdmFsdWU7XG4gIHZhciBpbXBvcnRhbnQgPSAvXiguKikhKGltcG9ydGFudClcXHMqJC9pLmV4ZWModmFsKTtcbiAgdmFyIHByb3BDYW1lbCA9IHByZWZpeFByb3AocHJvcCk7XG4gIHZhciBwcm9wRGFzaCA9IHByZWZpeFByb3AocHJvcCwgdHJ1ZSk7XG4gIGlmKGltcG9ydGFudCkge1xuICAgIHZhbHVlID0gaW1wb3J0YW50WzFdO1xuICAgIGltcG9ydGFudCA9IGltcG9ydGFudFsyXTtcbiAgICBpZihzdHlsZU9iai5zZXRQcm9wZXJ0eSkgc3R5bGVPYmouc2V0UHJvcGVydHkocHJvcERhc2gsIHZhbHVlLCBpbXBvcnRhbnQpO1xuICAgIGVsc2Uge1xuICAgICAgLy8gZm9yIG9sZCBJRSwgY3NzVGV4dCBpcyB3cml0YWJsZSwgYW5kIGJlbG93IGlzIHZhbGlkIGZvciBjb250YWluICFpbXBvcnRhbnRcbiAgICAgIC8vIGRvbid0IHVzZSBzdHlsZU9iai5zZXRBdHRyaWJ1dGUgc2luY2UgaXQncyBub3Qgc2V0IGltcG9ydGFudFxuICAgICAgLy8gc2hvdWxkIGRvOiBkZWxldGUgc3R5bGVPYmpbcHJvcENhbWVsXSwgYnV0IG5vdCBhZmZlY3QgcmVzdWx0XG5cbiAgICAgIC8vIG9ubHkgd29yayBvbiA8PSBJRTg6IHMuc3R5bGVbJ0ZPTlQtU0laRSddID0gJzEycHghaW1wb3J0YW50J1xuICAgICAgc3R5bGVPYmpbcHJvcERhc2gudG9VcHBlckNhc2UoKV0gPSB2YWw7XG4gICAgICAvLyByZWZyZXNoIGNzc1RleHQsIHRoZSB3aG9sZSBydWxlIVxuICAgICAgc3R5bGVPYmouY3NzVGV4dCA9IHN0eWxlT2JqLmNzc1RleHQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN0eWxlT2JqW3Byb3BDYW1lbF0gPSB2YWw7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3Nzb2JqX3BsdWdpbl9wb3N0X2Nzc29tIChvcHRpb24pIHtcbiAgb3B0aW9uID0gb3B0aW9uIHx8IHt9O1xuXG4gIC8vIHByZWZpeGVzIGFycmF5IGNhbiBjaGFuZ2UgdGhlIGdsb2JhbCBkZWZhdWx0IHZlbmRvciBwcmVmaXhlc1xuICBpZihvcHRpb24udmVuZG9ycykgY3NzUHJlZml4ZXMgPSBvcHRpb24udmVuZG9ycztcblxuICB2YXIgaWQgPSBvcHRpb24uaWQgfHwgJ2Nzc29iaicgKyByYW5kb20oKTtcblxuICB2YXIgZnJhbWUgPSBvcHRpb24uZnJhbWU7XG4gIHZhciByb290RG9jID0gZnJhbWUgPyBmcmFtZS5jb250ZW50RG9jdW1lbnR8fGZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQgOiBkb2N1bWVudDtcbiAgdmFyIGRvbSA9IGNyZWF0ZURPTShyb290RG9jLCBpZCwgb3B0aW9uKTtcbiAgdmFyIHNoZWV0ID0gZG9tLnNoZWV0IHx8IGRvbS5zdHlsZVNoZWV0O1xuXG4gIC8vIHNoZWV0Lmluc2VydFJ1bGUgKFwiQGltcG9ydCB1cmwoJ3Rlc3QuY3NzJyk7XCIsIDApICAvLyBpdCdzIG9rIHRvIGluc2VydCBAaW1wb3J0LCBidXQgb25seSBhdCB0b3BcbiAgLy8gc2hlZXQuaW5zZXJ0UnVsZSAoXCJAY2hhcnNldCAnVVRGLTgnO1wiLCAwKSAgLy8gdGhyb3cgU3ludGF4RXJyb3IgaHR0cHM6Ly93d3cudzMub3JnL0J1Z3MvUHVibGljL3Nob3dfYnVnLmNnaT9pZD0yMjIwN1xuXG4gIC8vIElFIGhhcyBhIGJ1ZywgZmlyc3QgY29tbWEgcnVsZSBub3Qgd29yayEgaW5zZXJ0IGEgZHVtbXkgaGVyZVxuICAvLyBhZGRDU1NSdWxlKHNoZWV0LCAnaHRtbCxib2R5JywgW10sIHt9KVxuXG4gIC8vIGhlbHBlciByZWdleHAgJiBmdW5jdGlvblxuICAvLyBAcGFnZSBpbiBGRiBub3QgYWxsb3dlZCBwc2V1ZG8gQHBhZ2UgOmZpcnN0e30sIHdpdGggU3ludGF4RXJyb3I6IEFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZFxuICB2YXIgcmVXaG9sZVJ1bGUgPSAvcGFnZS9pO1xuICB2YXIgYXRvbUdyb3VwUnVsZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgcmV0dXJuICFub2RlID8gZmFsc2UgOiByZVdob2xlUnVsZS50ZXN0KG5vZGUuYXQpIHx8IG5vZGUucGFyZW50UnVsZSAmJiByZVdob2xlUnVsZS50ZXN0KG5vZGUucGFyZW50UnVsZS5hdClcbiAgfTtcblxuICB2YXIgZ2V0UGFyZW50ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgcCA9ICdvbUdyb3VwJyBpbiBub2RlID8gbm9kZSA6IG5vZGUucGFyZW50UnVsZTtcbiAgICByZXR1cm4gcCAmJiBwLm9tR3JvdXAgfHwgc2hlZXRcbiAgfTtcblxuICB2YXIgdmFsaWRQYXJlbnQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiAhbm9kZS5wYXJlbnRSdWxlIHx8IG5vZGUucGFyZW50UnVsZS5vbUdyb3VwICE9PSBudWxsXG4gIH07XG5cbiAgdmFyIHJlbW92ZVJ1bGUgPSBmdW5jdGlvbihwYXJlbnQsIHJ1bGUsIGluZGV4KSB7XG4gICAgcmV0dXJuIHBhcmVudC5kZWxldGVSdWxlXG4gICAgICAgID8gcGFyZW50LmRlbGV0ZVJ1bGUocnVsZS5rZXlUZXh0IHx8IGluZGV4KVxuICAgICAgICA6IHBhcmVudC5yZW1vdmVSdWxlKGluZGV4KVxuICB9O1xuXG4gIHZhciBjbGVhclJvb3QgPSBmdW5jdGlvbiAocm9vdCkge1xuICAgIHZhciBydWxlcyA9IHJvb3QuY3NzUnVsZXMgfHwgcm9vdC5ydWxlcztcbiAgICAvLyBjb25zb2xlLmxvZygnY2xlYXJSb290Jywgc2hlZXQsIHJ1bGVzKVxuICAgIGZvcih2YXIgaT1ydWxlcy5sZW5ndGg7IGktLTspe1xuICAgICAgcmVtb3ZlUnVsZShyb290LCBydWxlc1tpXSwgaSk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnY2xlYXIgcnVsZScsIGksIHJ1bGVzW2ldKVxuICAgIH1cbiAgfTtcbiAgdmFyIHJlbW92ZU9uZVJ1bGUgPSBmdW5jdGlvbiAocnVsZSkge1xuICAgIGlmICghcnVsZSkgcmV0dXJuXG4gICAgdmFyIHBhcmVudCA9IHJ1bGUucGFyZW50UnVsZSB8fCBzaGVldDtcbiAgICB2YXIgcnVsZXMgPSBwYXJlbnQuY3NzUnVsZXMgfHwgcGFyZW50LnJ1bGVzO1xuICAgIHZhciByZW1vdmVGdW5jID0gZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgIGlmKCh2PT09cnVsZSkpIHtcbiAgICAgICAgcmVtb3ZlUnVsZShwYXJlbnQsIHJ1bGUsIGkpO1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBzaGVldC5pbXBvcnRzIGhhdmUgYnVncyBpbiBJRTpcbiAgICAvLyA+IHNoZWV0LnJlbW92ZUltcG9ydCgwKSAgaXQncyB3b3JrLCB0aGVuIGFnYWluXG4gICAgLy8gPiBzaGVldC5yZW1vdmVJbXBvcnQoMCkgIGl0J3Mgbm90IHdvcmshISFcbiAgICAvL1xuICAgIC8vIHBhcmVudC5pbXBvcnRzICYmIFtdLnNvbWUuY2FsbChwYXJlbnQuaW1wb3J0cywgcmVtb3ZlRnVuYylcbiAgICA7W10uc29tZS5jYWxsKHJ1bGVzLCByZW1vdmVGdW5jKTtcbiAgfTtcblxuICBmdW5jdGlvbiByZW1vdmVOb2RlIChub2RlKSB7XG4gICAgLy8gcmVtb3ZlIG1lZGlhU3RvcmUgZm9yIG9sZCBJRVxuICAgIHZhciBncm91cElkeCA9IG1lZGlhU3RvcmUuaW5kZXhPZihub2RlKTtcbiAgICBpZiAoZ3JvdXBJZHggPiAtMSkge1xuICAgICAgLy8gYmVmb3JlIHJlbW92ZSBmcm9tIG1lZGlhU3RvcmVcbiAgICAgIC8vIGRvbid0IGZvcmdldCB0byByZW1vdmUgYWxsIGNoaWxkcmVuLCBieSBhIHdhbGtcbiAgICAgIG5vZGUubWVkaWFFbmFibGVkID0gZmFsc2U7XG4gICAgICB3YWxrKG5vZGUpO1xuICAgICAgbWVkaWFTdG9yZS5zcGxpY2UoZ3JvdXBJZHgsIDEpO1xuICAgIH1cbltub2RlLm9tR3JvdXBdLmNvbmNhdChub2RlLm9tUnVsZSkuZm9yRWFjaChyZW1vdmVPbmVSdWxlKTtcbiAgfVxuXG4gIC8vIGhlbHBlciBmdW5jdGlvbiBmb3IgYWRkTm9ybWFscnVsZVxuICB2YXIgYWRkTm9ybWFsUnVsZSA9IGZ1bmN0aW9uIChub2RlLCBzZWxUZXh0LCBjc3NUZXh0KSB7XG4gICAgaWYoIWNzc1RleHQpIHJldHVyblxuICAgIC8vIGdldCBwYXJlbnQgdG8gYWRkXG4gICAgdmFyIHBhcmVudCA9IGdldFBhcmVudChub2RlKTtcbiAgICB2YXIgcGFyZW50UnVsZSA9IG5vZGUucGFyZW50UnVsZTtcbiAgICBpZiAodmFsaWRQYXJlbnQobm9kZSkpXG4gICAgICByZXR1cm4gbm9kZS5vbVJ1bGUgPSBhZGRDU1NSdWxlKHBhcmVudCwgc2VsVGV4dCwgY3NzVGV4dCwgbm9kZSlcbiAgICBlbHNlIGlmIChwYXJlbnRSdWxlKSB7XG4gICAgICAvLyBmb3Igb2xkIElFIG5vdCBzdXBwb3J0IEBtZWRpYSwgY2hlY2sgbWVkaWFFbmFibGVkLCBhZGQgY2hpbGQgbm9kZXNcbiAgICAgIGlmIChwYXJlbnRSdWxlLm1lZGlhRW5hYmxlZCkge1xuICAgICAgICBbXS5jb25jYXQobm9kZS5vbVJ1bGUpLmZvckVhY2gocmVtb3ZlT25lUnVsZSk7XG4gICAgICAgIHJldHVybiBub2RlLm9tUnVsZSA9IGFkZENTU1J1bGUocGFyZW50LCBzZWxUZXh0LCBjc3NUZXh0LCBub2RlKVxuICAgICAgfSBlbHNlIGlmIChub2RlLm9tUnVsZSkge1xuICAgICAgICBub2RlLm9tUnVsZS5mb3JFYWNoKHJlbW92ZU9uZVJ1bGUpO1xuICAgICAgICBkZWxldGUgbm9kZS5vbVJ1bGU7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBtZWRpYVN0b3JlID0gW107XG5cbiAgdmFyIGNoZWNrTWVkaWFMaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIG1lZGlhU3RvcmUuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgdi5tZWRpYUVuYWJsZWQgPSB2Lm1lZGlhVGVzdChyb290RG9jKTtcbiAgICAgIHdhbGsodik7XG4gICAgfSk7XG4gIH07XG5cbiAgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkge1xuICAgIHdpbmRvdy5hdHRhY2hFdmVudCgnb25yZXNpemUnLCBjaGVja01lZGlhTGlzdCk7XG4gIH0gZWxzZSBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgY2hlY2tNZWRpYUxpc3QsIHRydWUpO1xuICB9XG5cbiAgdmFyIHdhbGsgPSBmdW5jdGlvbiAobm9kZSwgc3RvcmUpIHtcbiAgICBpZiAoIW5vZGUpIHJldHVyblxuXG4gICAgLy8gY3Nzb2JqIGdlbmVyYXRlIHZhbmlsbGEgQXJyYXksIGl0J3Mgc2FmZSB0byB1c2UgY29uc3RydWN0b3IsIGZhc3RcbiAgICBpZiAobm9kZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHJldHVybiBub2RlLm1hcChmdW5jdGlvbiAodikge3dhbGsodiwgc3RvcmUpO30pXG5cbiAgICAvLyBza2lwICRrZXkgbm9kZVxuICAgIGlmKG5vZGUua2V5ICYmIG5vZGUua2V5WzBdPT0nJCcgfHwgIW5vZGUucHJvcCkgcmV0dXJuXG5cbiAgICAvLyBuZXN0ZWQgbWVkaWEgcnVsZSB3aWxsIHBlbmRpbmcgcHJvY2VlZFxuICAgIGlmKG5vZGUuYXQ9PSdtZWRpYScgJiYgbm9kZS5zZWxQYXJlbnQgJiYgbm9kZS5zZWxQYXJlbnQucG9zdEFycikge1xuICAgICAgcmV0dXJuIG5vZGUuc2VsUGFyZW50LnBvc3RBcnIucHVzaChub2RlKVxuICAgIH1cblxuICAgIG5vZGUucG9zdEFyciA9IFtdO1xuICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgdmFyIGlzR3JvdXAgPSBub2RlLnR5cGUgPT0gJ2dyb3VwJztcblxuICAgIGlmIChhdG9tR3JvdXBSdWxlKG5vZGUpKSBzdG9yZSA9IHN0b3JlIHx8IFtdO1xuXG4gICAgaWYgKGlzR3JvdXApIHtcbiAgICAgIC8vIGlmIGl0J3Mgbm90IEBwYWdlLCBAa2V5ZnJhbWVzICh3aGljaCBpcyBub3QgZ3JvdXBSdWxlIGluIGZhY3QpXG4gICAgICBpZiAoIWF0b21Hcm91cFJ1bGUobm9kZSkpIHtcbiAgICAgICAgdmFyICRncm91cFRlc3QgPSBub2RlLm9iai4kZ3JvdXBUZXN0O1xuICAgICAgICB2YXIgcHJlc2V0TWVkaWEgPSBub2RlLmF0PT0nbWVkaWEnICYmIG9wdGlvbi5tZWRpYTtcbiAgICAgICAgaWYgKCRncm91cFRlc3QgfHwgcHJlc2V0TWVkaWEpIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RhcnQgdGVzdCBtZWRpYScsIHByZXNldE1lZGlhLCAkZ3JvdXBUZXN0KVxuICAgICAgICAgIG5vZGUub21Hcm91cCA9IG51bGw7XG4gICAgICAgIC8vIHdoZW4gYWRkIG1lZGlhIHJ1bGUgZmFpbGVkLCBidWlsZCB0ZXN0IGZ1bmN0aW9uIHRoZW4gY2hlY2sgb24gd2luZG93LnJlc2l6ZVxuICAgICAgICAvLyBpZiAoIW9sZCkge1xuICAgICAgICAgIC8vIGJ1aWxkIHRlc3QgZnVuY3Rpb24gZnJvbSBAbWVkaWEgcnVsZVxuXG4gICAgICAgICAgdmFyIG1lZGlhVGVzdCA9ICRncm91cFRlc3QgXG4gICAgICAgICAgfHwgKHByZXNldE1lZGlhICYmIGZ1bmN0aW9uKGRvYykge1xuICAgICAgICAgICAgICB2YXIgbWVkaWEgPSBvcHRpb24ubWVkaWE7XG4gICAgICAgICAgICAgIHJldHVybiBtZWRpYSA/IG5vZGUuc2VsUGFydC5zb21lKGZ1bmN0aW9uKHBhcnQpe1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG1lZGlhLCAnaScpLnRlc3QocGFydC50cmltKCkpXG4gICAgICAgICAgICAgIH0pIDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB8fCBmdW5jdGlvbigpe3JldHVybiB0cnVlfTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBmaXJzdCB0ZXN0IGlmIGl0J3MgdmFsaWQgZnVuY3Rpb25cbiAgICAgICAgICAgIHZhciBtZWRpYUVuYWJsZWQgPSBtZWRpYVRlc3Qocm9vdERvYyk7XG4gICAgICAgICAgICBub2RlLm1lZGlhVGVzdCA9IG1lZGlhVGVzdDtcbiAgICAgICAgICAgIG5vZGUubWVkaWFFbmFibGVkID0gbWVkaWFFbmFibGVkO1xuICAgICAgICAgICAgbWVkaWFTdG9yZS5wdXNoKG5vZGUpO1xuICAgICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXG4gICAgICAgICAgWycnXS5jb25jYXQoY3NzUHJlZml4ZXMpLnNvbWUoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLm9tR3JvdXAgPSBhZGRDU1NSdWxlKFxuICAgICAgICAgICAgICAvLyBhbGwgZ3JvdXBSdWxlIHdpbGwgYmUgYWRkZWQgdG8gcm9vdCBzaGVldFxuICAgICAgICAgICAgICBzaGVldCxcbiAgICAgICAgICAgICAgJ0AnICsgKHYgPyAnLScgKyB2LnRvTG93ZXJDYXNlKCkgKyAnLScgOiB2KSArIG5vZGUuZ3JvdXBUZXh0LnNsaWNlKDEpLCBbXSwgbm9kZVxuICAgICAgICAgICAgKS5wb3AoKSB8fCBudWxsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzZWxUZXh0ID0gbm9kZS5zZWxUZXh0UGFydDtcbiAgICB2YXIgY3NzVGV4dCA9IGdldEJvZHlDc3Mobm9kZSk7XG5cbiAgICAvLyBpdCdzIG5vcm1hbCBjc3MgcnVsZVxuICAgIGlmIChjc3NUZXh0LmpvaW4oJycpKSB7XG4gICAgICBpZiAoIWF0b21Hcm91cFJ1bGUobm9kZSkpIHtcbiAgICAgICAgYWRkTm9ybWFsUnVsZShub2RlLCBzZWxUZXh0LCBjc3NUZXh0KTtcbiAgICAgIH1cbiAgICAgIHN0b3JlICYmIHN0b3JlLnB1c2goc2VsVGV4dCA/IHNlbFRleHQgKyAnIHsnICsgY3NzVGV4dC5qb2luKCcnKSArICd9JyA6IGNzc1RleHQpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGMgaW4gY2hpbGRyZW4pIHtcbiAgICAgIC8vIGVtcHR5IGtleSB3aWxsIHBlbmRpbmcgcHJvY2VlZFxuICAgICAgaWYgKGMgPT09ICcnKSBub2RlLnBvc3RBcnIucHVzaChjaGlsZHJlbltjXSk7XG4gICAgICBlbHNlIHdhbGsoY2hpbGRyZW5bY10sIHN0b3JlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNHcm91cCkge1xuICAgICAgLy8gaWYgaXQncyBAcGFnZSwgQGtleWZyYW1lc1xuICAgICAgaWYgKGF0b21Hcm91cFJ1bGUobm9kZSkgJiYgdmFsaWRQYXJlbnQobm9kZSkpIHtcbiAgICAgICAgYWRkTm9ybWFsUnVsZShub2RlLCBub2RlLmdyb3VwVGV4dCwgc3RvcmUpO1xuICAgICAgICBzdG9yZSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbWVkaWEgcnVsZXMgbmVlZCBhIHN0YW5kIGFsb25lIGJsb2NrXG4gICAgdmFyIHBvc3RBcnIgPSBub2RlLnBvc3RBcnI7XG4gICAgZGVsZXRlIG5vZGUucG9zdEFycjtcbiAgICBwb3N0QXJyLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgd2Fsayh2LCBzdG9yZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHByZXZNZWRpYSA9IG9wdGlvbi5tZWRpYTtcbiAgcmV0dXJuIHtcbiAgICBwb3N0OiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICB2YXIgbWVkaWFDaGFuZ2VkID0gcHJldk1lZGlhIT1vcHRpb24ubWVkaWE7XG4gICAgICBwcmV2TWVkaWEgPSBvcHRpb24ubWVkaWE7XG4gICAgICBjaGVja01lZGlhTGlzdCgpO1xuXG4gICAgICByZXN1bHQuc2V0ID0gZnVuY3Rpb24oY3NzUGF0aCwgbmV3T2JqKXtcbiAgICAgICAgdmFyIHBhdGggPSBBcnJheS5pc0FycmF5KGNzc1BhdGgpID8gY3NzUGF0aCA6IFtjc3NQYXRoXTtcbiAgICAgICAgdmFyIHNyY09iaiA9IHJlc3VsdC5vYmo7XG4gICAgICAgIGlmKGlzU3RyaW5nKHBhdGhbMF0pICYmIHBhdGhbMF1bMF09PT0nJCcpIHtcbiAgICAgICAgICBzcmNPYmogPSByZXN1bHQucmVmW3BhdGguc2hpZnQoKS5zbGljZSgxKV0ub2JqO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXQgPSBvYmpHZXRPYmooIHNyY09iaiwgcGF0aCApO1xuICAgICAgICBpZihyZXQub2spe1xuICAgICAgICAgIGFzc2lnbihyZXQub2JqLCBuZXdPYmopO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC51cGRhdGUoKTtcbiAgICAgIH07XG5cbiAgICAgIHJlc3VsdC5jc3Nkb20gPSBkb207XG4gICAgICBpZiAoIXJlc3VsdC5kaWZmIHx8IG1lZGlhQ2hhbmdlZCkge1xuICAgICAgICAvLyBpdCdzIGZpcnN0IHRpbWUgcmVuZGVyXG4gICAgICAgIGlmKG1lZGlhQ2hhbmdlZCkge1xuICAgICAgICAgIC8vIGlmIG1lZGlhIGNoYW5nZWQsIHJlaW5pdCwgY2xlYXIgYWxsIHJ1bGVzXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NsZWFyUm9vdCcsIHByZXZNZWRpYSwgb3B0aW9uLm1lZGlhKVxuICAgICAgICAgIG1lZGlhU3RvcmUgPSBbXTtcbiAgICAgICAgICBjbGVhclJvb3Qoc2hlZXQpO1xuICAgICAgICB9XG4gICAgICAgIHdhbGsocmVzdWx0LnJvb3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaXQncyBub3QgZmlyc3QgdGltZSwgcGF0Y2ggdGhlIGRpZmYgcmVzdWx0IHRvIENTU09NXG4gICAgICAgIHZhciBkaWZmID0gcmVzdWx0LmRpZmY7XG5cbiAgICAgICAgLy8gbm9kZSBhZGRlZFxuICAgICAgICBpZiAoZGlmZi5hZGRlZCkgZGlmZi5hZGRlZC5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgd2Fsayhub2RlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbm9kZSByZW1vdmVkXG4gICAgICAgIGlmIChkaWZmLnJlbW92ZWQpIGRpZmYucmVtb3ZlZC5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgLy8gYWxzbyByZW1vdmUgYWxsIGNoaWxkIGdyb3VwICYgc2VsXG4gICAgICAgICAgbm9kZS5zZWxDaGlsZCAmJiBub2RlLnNlbENoaWxkLmZvckVhY2gocmVtb3ZlTm9kZSk7XG4gICAgICAgICAgcmVtb3ZlTm9kZShub2RlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbm9kZSBjaGFuZ2VkLCBmaW5kIHdoaWNoIHBhcnQgc2hvdWxkIGJlIHBhdGNoZWRcbiAgICAgICAgaWYgKGRpZmYuY2hhbmdlZCkgZGlmZi5jaGFuZ2VkLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICB2YXIgb20gPSBub2RlLm9tUnVsZTtcbiAgICAgICAgICB2YXIgZGlmZiA9IG5vZGUuZGlmZjtcblxuICAgICAgICAgIGlmICghb20pIG9tID0gYWRkTm9ybWFsUnVsZShub2RlLCBub2RlLnNlbFRleHRQYXJ0LCBnZXRCb2R5Q3NzKG5vZGUpKVxuXG4gICAgICAgICAgLy8gYWRkZWQgaGF2ZSBzYW1lIGFjdGlvbiBhcyBjaGFuZ2VkLCBjYW4gYmUgbWVyZ2VkLi4uIGp1c3QgZm9yIGNsYXJpdHlcbiAgICAgICAgICA7W10uY29uY2F0KGRpZmYuYWRkZWQsIGRpZmYuY2hhbmdlZCkuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdiAmJiBvbSAmJiBvbS5mb3JFYWNoKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICBzZXRDU1NQcm9wZXJ0eShydWxlLnN0eWxlLCB2LCBub2RlLnByb3Bbdl1bMF0pO1xuICAgICAgICAgICAgICB9Y2F0Y2goZSl7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBkaWZmLnJlbW92ZWQgJiYgZGlmZi5yZW1vdmVkLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHZhciBwcmVmaXhWID0gcHJlZml4UHJvcCh2LCB0cnVlKTtcbiAgICAgICAgICAgIHByZWZpeFYgJiYgb20gJiYgb20uZm9yRWFjaChmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgcnVsZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgPyBydWxlLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByZWZpeFYpXG4gICAgICAgICAgICAgICAgICA6IHJ1bGUuc3R5bGUucmVtb3ZlQXR0cmlidXRlKHByZWZpeFYpO1xuICAgICAgICAgICAgICB9Y2F0Y2goZSl7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuICB9XG59XG5cbi8vIGNzc29iaiBwbHVnaW5cblxudmFyIGNsYXNzTmFtZVJlID0gL1sgXFx+XFxcXEAkJV4mXFwqXFwoXFwpXFwrXFw9LC8nO1xcOlwiPz48W1xcXVxcXFx7fXxgXS87XG5cbmZ1bmN0aW9uIGNzc29ial9wbHVnaW5fc2VsZWN0b3JfbG9jYWxpemUob3B0aW9uKSB7XG5cbiAgb3B0aW9uID0gb3B0aW9uIHx8IHt9O1xuXG4gIHZhciBzcGFjZSA9IG9wdGlvbi5zcGFjZSA9IHR5cGVvZiBvcHRpb24uc3BhY2UhPT0nc3RyaW5nJ1xuICAgICAgPyAodHlwZW9mIG9wdGlvbi5yYW5kb20gPT0gJ2Z1bmN0aW9uJyA/ICBvcHRpb24ucmFuZG9tKCkgOiByYW5kb20oKSlcbiAgICAgIDogb3B0aW9uLnNwYWNlO1xuXG4gIHZhciBsb2NhbE5hbWVzID0gb3B0aW9uLmxvY2FsTmFtZXMgPSBvcHRpb24ubG9jYWxOYW1lcyB8fCB7fTtcblxuICB2YXIgbG9jYWxpemUgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWVbMF09PSchJ1xuICAgICAgPyBuYW1lLnN1YnN0cigxKVxuICAgICAgOiAobmFtZSBpbiBsb2NhbE5hbWVzXG4gICAgICAgICA/IGxvY2FsTmFtZXNbbmFtZV1cbiAgICAgICAgIDogbmFtZSArIHNwYWNlKVxuICB9O1xuXG4gIHZhciBwYXJzZVNlbCA9IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmKCFpc1N0cmluZyhzdHIpKSByZXR1cm4gc3RyXG4gICAgdmFyIHBhcnQgPSBzcGxpdFNlbGVjdG9yKHN0ciwgJy4nLCB0cnVlKTtcbiAgICB2YXIgc2VsPXBhcnRbMF07XG4gICAgZm9yKHZhciBpID0gMSwgcCwgcG9zLCBsZW4gPSBwYXJ0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBwID0gcGFydFtpXTtcbiAgICAgIGlmKCFwKSB7XG4gICAgICAgIHNlbCArPSAnLic7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBwb3MgPSBwLnNlYXJjaChjbGFzc05hbWVSZSk7XG4gICAgICBzZWwgKz0gJy4nICsgKHBvczwwID8gbG9jYWxpemUocCkgOiBsb2NhbGl6ZShwLnN1YnN0cigwLHBvcykpICsgcC5zdWJzdHIocG9zKSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxcbiAgfTtcblxuICB2YXIgbWFwQ2xhc3MgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gaXNTdHJpbmcoc3RyKVxuICAgICAgPyBwYXJzZVNlbChzdHIucmVwbGFjZSgvXFxzK1xcLj8vZywgJy4nKS5yZXBsYWNlKC9eKFteOlxccy5dKS9pLCAnLiQxJykpLnJlcGxhY2UoL1xcLi9nLCAnICcpLnRyaW0oKVxuICAgICAgOiBzdHJcbiAgfTtcblxuICB2YXIgc2V0UmVzdWx0ID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgcmVzdWx0LnNwYWNlID0gc3BhY2U7XG4gICAgcmVzdWx0LmxvY2FsTmFtZXMgPSBsb2NhbE5hbWVzO1xuICAgIHJlc3VsdC5tYXBTZWwgPSBwYXJzZVNlbDtcbiAgICByZXN1bHQubWFwQ2xhc3MgPSBtYXBDbGFzcztcbiAgICByZXR1cm4gcmVzdWx0XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzZWxlY3RvcjogZnVuY3Rpb24gbG9jYWxpemVOYW1lIChzZWwsIG5vZGUsIHJlc3VsdCkge1xuICAgICAgLy8gZG9uJ3QgdG91Y2ggYXQgcnVsZSdzIHNlbFRleHRcbiAgICAgIC8vIGl0J3MgY29waWVkIGZyb20gcGFyZW50LCB3aGljaCBhbHJlYWR5IGxvY2FsaXplZFxuICAgICAgaWYobm9kZS5hdCkgcmV0dXJuIHNlbFxuICAgICAgaWYoIXJlc3VsdC5tYXBTZWwpIHNldFJlc3VsdChyZXN1bHQpO1xuICAgICAgcmV0dXJuIHBhcnNlU2VsKHNlbClcbiAgICB9LFxuICAgIHBvc3Q6IHNldFJlc3VsdFxuICB9XG59XG5cbi8vIGNzc29iaiBpcyBzaW1wbHkgYW4gaW50ZXJncmF0aW9uIGZvciBjc3NvYmotY29yZSwgY3Nzb21cblxuZnVuY3Rpb24gY3Nzb2JqJDEgKG9iaiwgY29uZmlnLCBzdGF0ZSkge1xuICBjb25maWcgPSBjb25maWcgfHwge307XG5cbiAgdmFyIGxvY2FsID0gY29uZmlnLmxvY2FsO1xuICBjb25maWcubG9jYWwgPSAhbG9jYWxcbiAgICA/IHtzcGFjZTogJyd9XG4gIDogbG9jYWwgJiYgdHlwZW9mIGxvY2FsID09PSAnb2JqZWN0JyA/IGxvY2FsIDoge307XG5cbiAgY29uZmlnLnBsdWdpbnMgPSBbXS5jb25jYXQoXG4gICAgY29uZmlnLnBsdWdpbnMgfHwgW10sXG4gICAgY3Nzb2JqX3BsdWdpbl9zZWxlY3Rvcl9sb2NhbGl6ZShjb25maWcubG9jYWwpLFxuICAgIGNzc29ial9wbHVnaW5fcG9zdF9jc3NvbShjb25maWcuY3Nzb20pXG4gICk7XG5cbiAgcmV0dXJuIGNzc29iaihjb25maWcpKG9iaiwgc3RhdGUpXG59XG5cbmNzc29iaiQxLnZlcnNpb24gPSAnMS4zLjYnO1xuXG5yZXR1cm4gY3Nzb2JqJDE7XG5cbn0pKSk7XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSByZWFkeVxuXG5mdW5jdGlvbiByZWFkeSAoY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RvY3VtZW50LXJlYWR5IG9ubHkgcnVucyBpbiB0aGUgYnJvd3NlcicpXG4gIH1cbiAgdmFyIHN0YXRlID0gZG9jdW1lbnQucmVhZHlTdGF0ZVxuICBpZiAoc3RhdGUgPT09ICdjb21wbGV0ZScgfHwgc3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgMClcbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiBvbkxvYWQgKCkge1xuICAgIGNhbGxiYWNrKClcbiAgfSlcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=